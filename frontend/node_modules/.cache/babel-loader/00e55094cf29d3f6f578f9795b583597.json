{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{Baseurl}from'../baseurl';import axios from'axios';import{Formik,Form,Field,ErrorMessage}from'formik';import{useLocation}from'react-router';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{useHistory}from'react-router';import{useDispatch}from'react-redux';import{isLogged}from'../redux/actions';import Navbar from'./navbar';import BackTotop from'./back_to_top';import Footer from'./footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){document.title='Fromhome | Login Page';var path=useLocation();var history=useHistory();var dispatch=useDispatch();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{login:path.pathname}),/*#__PURE__*/_jsxs(\"section\",{className:\"about container-fluid mt-4\",id:\"about\",children:[/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(ToastContainer,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"px-3 pb-2\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCDA Learn a skill today, Be smart!\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-5  d-lg-block order-2 order-lg-1 d-none d-lg-block\",\"data-aos\":\"fade-in\",\"data-aos-delay\":\"100\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/img/student2.jpg\",className:\"img-fluid login-img mt-2\",alt:\"\",style:{borderRadius:'10px'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 order-1 order-lg-2 mb-4\",\"data-aos\":\"fade-in\",\"data-aos-delay\":\"100\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"login-card\",style:{borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"assets/img/logo.png\",alt:\"\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Log in to Your Account\"})}),/*#__PURE__*/_jsx(Formik,{initialValues:{email:'',password:''},validate:function validate(values){var errors={};if(!values.email){errors.email='*Email Required';}else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)){errors.email='Invalid email address';}else if(!values.password){errors.password='*Password Required';}return errors;},onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;setTimeout(function(){// dispatch(isLogged(true));\n// history.push('/dashboard')\naxios.post(\"\".concat(Baseurl,\"auth/login\"),values).then(function(res){if(res.data){setSubmitting(false);var token=res.data.access_token;sessionStorage.setItem('Token',token);dispatch(isLogged(true));if(sessionStorage.Path){history.push(sessionStorage.Path);sessionStorage.removeItem('Path');}else{history.push('/dashboard');}}}).catch(function(error){if(error.response.status===401){setSubmitting(false);toast(\"ðŸ˜” Login details incorrect!\",{autoClose:2000});}else if(error.response.status===500){setSubmitting(false);sessionStorage.removeItem('Token');toast(\"ðŸ˜” Server is down!\",{autoClose:2000});}});},400);},children:function children(_ref2){var isSubmitting=_ref2.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row-1\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{id:\"login-card-inner\",children:\"Email\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(Field,{type:\"email\",placeholder:\"Registered Email\",name:\"email\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:\"small\",className:\"text-danger\"}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row-1\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{id:\"login-card-inner\",children:\"Password\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(Field,{type:\"password\",placeholder:\"Password\",name:\"password\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"small\",className:\"text-danger\"})]})]}),/*#__PURE__*/_jsx(\"button\",{class:\"btn d-flex mx-auto mb-2\",type:\"submit\",disabled:isSubmitting,children:/*#__PURE__*/_jsxs(\"b\",{children:[isSubmitting?/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\"}):'',\" Login\"]})})]});}}),/*#__PURE__*/_jsxs(Link,{to:\"/password-reset\",children:[\" \",/*#__PURE__*/_jsx(\"small\",{style:{cursor:'pointer'},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Forgot Password?\"})})]})]})})]})]}),/*#__PURE__*/_jsx(BackTotop,{}),/*#__PURE__*/_jsx(Footer,{})]});};export default Login;","map":{"version":3,"sources":["C:/xampp/htdocs/FROMHOME/frontend/src/components/landing_page/login.js"],"names":["React","Link","Baseurl","axios","Formik","Form","Field","ErrorMessage","useLocation","ToastContainer","toast","useHistory","useDispatch","isLogged","Navbar","BackTotop","Footer","Login","document","title","path","history","dispatch","pathname","borderRadius","email","password","values","errors","test","setSubmitting","setTimeout","post","then","res","data","token","access_token","sessionStorage","setItem","Path","push","removeItem","catch","error","response","status","autoClose","isSubmitting","cursor"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { Baseurl } from '../baseurl';\r\nimport axios from 'axios';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { useLocation } from 'react-router';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useHistory } from 'react-router';\r\nimport { useDispatch } from 'react-redux';\r\nimport { isLogged } from '../redux/actions';\r\nimport Navbar from './navbar';\r\nimport BackTotop from './back_to_top';\r\nimport Footer from './footer';\r\n\r\n\r\n\r\nconst Login = () => {\r\n  document.title = 'Fromhome | Login Page'\r\n  let path = useLocation();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <>\r\n      <Navbar login={path.pathname} />\r\n      <section className=\"about container-fluid mt-4\" id=\"about\">\r\n        <small><ToastContainer /></small>\r\n        <div className=\"row\">\r\n          <small className='px-3 pb-2'><strong>ðŸ“š Learn a skill today, Be smart!</strong></small>\r\n          <div className=\"col-lg-5  d-lg-block order-2 order-lg-1 d-none d-lg-block\" data-aos=\"fade-in\" data-aos-delay=\"100\">\r\n            <img src=\"assets/img/student2.jpg\" className=\"img-fluid login-img mt-2\" alt=\"\" style={{ borderRadius: '10px' }} />\r\n          </div>\r\n          <div className=\"col-lg-6 order-1 order-lg-2 mb-4\" data-aos=\"fade-in\" data-aos-delay=\"100\">\r\n            <div class=\"login-card\" style={{ borderRadius: '10px' }}>\r\n              <img src=\"assets/img/logo.png\" alt=\"\" /> <br />\r\n              <small><strong>Log in to Your Account</strong></small>\r\n              <Formik\r\n                initialValues={{ email: '', password: '' }}\r\n                validate={values => {\r\n                  const errors = {};\r\n                  if (!values.email) {\r\n                    errors.email = '*Email Required';\r\n                  } else if (\r\n                    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n                  ) {\r\n                    errors.email = 'Invalid email address';\r\n                  } else if (!values.password) {\r\n                    errors.password = '*Password Required';\r\n                  }\r\n\r\n                  return errors;\r\n                }}\r\n                onSubmit={(values, { setSubmitting }) => {\r\n                  setTimeout(() => {\r\n                    // dispatch(isLogged(true));\r\n                    // history.push('/dashboard')\r\n\r\n                    axios.post(`${Baseurl}auth/login`, values).then((res) => {\r\n                      if (res.data) {\r\n                        setSubmitting(false);\r\n                        let token = res.data.access_token\r\n                        sessionStorage.setItem('Token', token)\r\n                        dispatch(isLogged(true));\r\n                        if (sessionStorage.Path) {\r\n                          history.push(sessionStorage.Path)\r\n                          sessionStorage.removeItem('Path')\r\n                        } else {\r\n                          history.push('/dashboard')\r\n                        }\r\n                      }\r\n                    }).catch((error) => {\r\n                      if (error.response.status === 401) {\r\n                        setSubmitting(false);\r\n                        toast(\"ðŸ˜” Login details incorrect!\", {\r\n                          autoClose: 2000,\r\n                        })\r\n                      } else if (error.response.status === 500) {\r\n                        setSubmitting(false);\r\n                        sessionStorage.removeItem('Token')\r\n                        toast(\"ðŸ˜” Server is down!\", {\r\n                          autoClose: 2000,\r\n                        })\r\n                      }\r\n                    })\r\n\r\n                  }, 400);\r\n                }}\r\n              >\r\n                {({ isSubmitting }) => (\r\n\r\n                  <Form>\r\n                    <div class=\"row-1\">\r\n                      <div class=\"row row-2\"> <span id=\"login-card-inner\">Email</span> </div>\r\n                      <div class=\"row row-2\"> <Field type=\"email\" placeholder=\"Registered Email\" name=\"email\" />\r\n                        <ErrorMessage name=\"email\" component=\"small\" className='text-danger' /> </div>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"row-1\">\r\n                      <div class=\"row row-2\"> <span id=\"login-card-inner\">Password</span> </div>\r\n                      <div class=\"row row-2\"> <Field type=\"password\" placeholder=\"Password\" name=\"password\" />\r\n                        <ErrorMessage name=\"password\" component=\"small\" className='text-danger' />\r\n                      </div>\r\n                    </div>\r\n                    <button class=\"btn d-flex mx-auto mb-2\" type=\"submit\" disabled={isSubmitting}><b>{isSubmitting ? <i class=\"fas fa-spinner fa-spin\"></i> : ''} Login</b></button>\r\n                  </Form>\r\n                )}\r\n              </Formik>\r\n              <Link to='/password-reset'> <small style={{ cursor: 'pointer' }}><strong>Forgot Password?</strong></small>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n      </section>\r\n      <BackTotop />\r\n      <Footer />\r\n\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n\r\n"]},"metadata":{},"sourceType":"module"}