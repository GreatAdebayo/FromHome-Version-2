{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\FROMHOME\\\\frontend\\\\src\\\\components\\\\landing_page\\\\cart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport BackTotop from './back_to_top';\nimport Footer from './footer';\nimport Navbar from './navbar';\nimport TrendingCourses from './trending_courses';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useHistory } from 'react-router';\nimport { useLocation } from 'react-router';\nimport axios from 'axios';\nimport { Baseurl } from '../baseurl';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Cart = () => {\n  _s();\n\n  const history = useHistory();\n  const path = useLocation();\n  const [cart, setCart] = useState([]);\n  useEffect(() => {\n    let cart = JSON.parse(localStorage.getItem('cart'));\n\n    if (cart) {\n      setCart(cart);\n    }\n  }, []);\n\n  const deleteItem = index => {\n    const newCart = [...cart];\n    newCart.splice(index, 1);\n    setCart(newCart);\n    let localStorageCart = JSON.parse(localStorage.getItem('cart'));\n    localStorageCart = newCart;\n    localStorage.setItem('cart', JSON.stringify(localStorageCart));\n  }; // const decrease = (index) => {\n  //     const newCart = [...cart]\n  //     for (let i = 0; i < newCart.length; i++) {\n  //         if (index === i) {\n  //             if (newCart[i].qty > 1) {\n  //                 newCart[i].qty--\n  //                 let newQty = newCart[i].qty\n  //                 newCart[i].newCost = newCart[i].cost * newQty\n  //                 setCart(newCart)\n  //                 let localStorageCart = JSON.parse(localStorage.getItem('cart'))\n  //                 localStorageCart = newCart\n  //                 localStorage.setItem('cart', JSON.stringify(localStorageCart))\n  //             }\n  //         }\n  //     }\n  // }\n  // const increase = (index) => {\n  //     const newCart = [...cart]\n  //     for (let i = 0; i < newCart.length; i++) {\n  //         if (index === i) {\n  //             newCart[i].qty++;\n  //             let newQty = newCart[i].qty\n  //             newCart[i].newCost = newCart[i].cost * newQty\n  //             setCart(newCart)\n  //             let localStorageCart = JSON.parse(localStorage.getItem('cart'))\n  //             localStorageCart = newCart\n  //             localStorage.setItem('cart', JSON.stringify(localStorageCart))\n  //         }\n  //     }\n  // }\n\n\n  const preparePayment = () => {\n    let token = sessionStorage.Token;\n\n    if (token) {\n      let cart = JSON.parse(localStorage.getItem('cart'));\n      axios.post(`${Baseurl}preparepayment`, cart, {\n        headers: {\n          'Authorization': 'Bearer' + token\n        }\n      }).then(res => {\n        console.log(res.data);\n      }); // let total = cart.reduce(function (total, obj) { return total + obj.newCost}, 0)\n    } else {\n      history.push('/login');\n      sessionStorage.setItem('Path', path.pathname);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"about container-fluid mt-3\",\n      id: \"about\",\n      children: [/*#__PURE__*/_jsxDEV(\"small\", {\n        children: /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this), cart.length ? '' : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 col-sm mx-auto text-center mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Your Cart is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fad fa-shopping-cart fa-3x text-danger\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/available-courses\",\n            class: \"btn d-flex mx-auto\",\n            type: \"submit\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Keep shopping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 97\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"d-flex justify-content-center row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md-8 col-sm mx-auto\",\n            children: [cart.length ? /*#__PURE__*/_jsxDEV(\"small\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fad fa-shopping-cart\",\n                  style: {\n                    color: '#071B4D'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 59\n                }, this), \" Your Shopping Cart\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 51\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 44\n            }, this) : '', cart.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"d-flex flex-row justify-content-center align-items-center p-2  mt-4 px-3 rounded\",\n                  style: {\n                    backgroundColor: '#F6F7F6'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"mr-1\",\n                    children: [\"  \", /*#__PURE__*/_jsxDEV(\"i\", {\n                      class: \"fab fa-react fa-3x\",\n                      style: {\n                        color: \" #e361ff\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 65\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"d-flex flex-column align-items-center product-details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                      class: \"font-weight-bold\",\n                      children: item.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 112\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"d-flex flex-row product-desc\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"color\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          class: \"text-grey\",\n                          children: \"Tutor:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 113,\n                          columnNumber: 72\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          class: \"font-weight-bold\",\n                          children: [\"\\xA0\", item.tutor]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 113,\n                          columnNumber: 109\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 113,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"d-flex flex-row align-items-center qty\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                      class: \"text-grey fl\",\n                      children: [\"$\", item.cost]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"d-flex align-items-center\",\n                    onClick: () => deleteItem(index),\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      class: \"fa fa-trash mb-1 text-danger\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 118\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false);\n            }), cart.length ? /*#__PURE__*/_jsxDEV(\"button\", {\n              to: \"payment\",\n              class: \"btn d-flex mx-auto\",\n              type: \"button\",\n              onClick: preparePayment,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Proceed to pay \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: cart.reduce(function (total, obj) {\n                    return total + obj.cost;\n                  }, 0)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 152\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 131\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 44\n            }, this) : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TrendingCourses, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BackTotop, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Cart, \"JbyJWSlboEeWJMbDZtBDEkTPXRA=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/xampp/htdocs/FROMHOME/frontend/src/components/landing_page/cart.js"],"names":["React","useEffect","useState","Link","BackTotop","Footer","Navbar","TrendingCourses","ToastContainer","toast","useHistory","useLocation","axios","Baseurl","Cart","history","path","cart","setCart","JSON","parse","localStorage","getItem","deleteItem","index","newCart","splice","localStorageCart","setItem","stringify","preparePayment","token","sessionStorage","Token","post","headers","then","res","console","log","data","push","pathname","length","color","map","item","backgroundColor","title","tutor","cost","reduce","total","obj"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport BackTotop from './back_to_top'\r\nimport Footer from './footer'\r\nimport Navbar from './navbar'\r\nimport TrendingCourses from './trending_courses'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useHistory } from 'react-router'\r\nimport { useLocation } from 'react-router'\r\nimport axios from 'axios'\r\nimport { Baseurl } from '../baseurl'\r\n\r\nconst Cart = () => {\r\n    const history = useHistory();\r\n    const path = useLocation()\r\n    const [cart, setCart] = useState([])\r\n    useEffect(() => {\r\n        let cart = JSON.parse(localStorage.getItem('cart'))\r\n        if (cart) {\r\n            setCart(cart)\r\n        }\r\n    }, [])\r\n\r\n    const deleteItem = (index) => {\r\n        const newCart = [...cart]\r\n        newCart.splice(index, 1);\r\n        setCart(newCart)\r\n        let localStorageCart = JSON.parse(localStorage.getItem('cart'))\r\n        localStorageCart = newCart\r\n        localStorage.setItem('cart', JSON.stringify(localStorageCart))\r\n    }\r\n\r\n\r\n    // const decrease = (index) => {\r\n    //     const newCart = [...cart]\r\n    //     for (let i = 0; i < newCart.length; i++) {\r\n    //         if (index === i) {\r\n    //             if (newCart[i].qty > 1) {\r\n    //                 newCart[i].qty--\r\n    //                 let newQty = newCart[i].qty\r\n    //                 newCart[i].newCost = newCart[i].cost * newQty\r\n    //                 setCart(newCart)\r\n    //                 let localStorageCart = JSON.parse(localStorage.getItem('cart'))\r\n    //                 localStorageCart = newCart\r\n    //                 localStorage.setItem('cart', JSON.stringify(localStorageCart))\r\n    //             }\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    // const increase = (index) => {\r\n    //     const newCart = [...cart]\r\n    //     for (let i = 0; i < newCart.length; i++) {\r\n    //         if (index === i) {\r\n    //             newCart[i].qty++;\r\n    //             let newQty = newCart[i].qty\r\n    //             newCart[i].newCost = newCart[i].cost * newQty\r\n    //             setCart(newCart)\r\n    //             let localStorageCart = JSON.parse(localStorage.getItem('cart'))\r\n    //             localStorageCart = newCart\r\n    //             localStorage.setItem('cart', JSON.stringify(localStorageCart))\r\n    //         }\r\n    //     }\r\n\r\n\r\n    // }\r\n\r\n    const preparePayment = () =>{\r\n    let token = sessionStorage.Token\r\n    if(token){\r\n    let cart = JSON.parse(localStorage.getItem('cart'))\r\n    axios.post(`${Baseurl}preparepayment`, cart, {\r\n        headers:{\r\n           'Authorization': 'Bearer' + token\r\n        }\r\n    }).then((res)=>{\r\n        console.log(res.data)\r\n    })\r\n    // let total = cart.reduce(function (total, obj) { return total + obj.newCost}, 0)\r\n    \r\n    \r\n    }else{\r\n        history.push('/login')\r\n        sessionStorage.setItem('Path', path.pathname) \r\n    }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <section className=\"about container-fluid mt-3\" id=\"about\">\r\n            <small><ToastContainer /></small>\r\n                {cart.length ? '' : <div className='row'>\r\n                    <div className='col-md-6 col-sm mx-auto text-center mt-4'>\r\n                        <h5>Your Cart is empty</h5>\r\n                        <i class=\"fad fa-shopping-cart fa-3x text-danger\"></i>\r\n                        <Link to='/available-courses' class=\"btn d-flex mx-auto\" type=\"submit\" ><b>Keep shopping</b></Link>\r\n                    </div>\r\n                </div>}\r\n                <div class=\"container mt-2\">\r\n                    <div class=\"d-flex justify-content-center row\">\r\n                        <div class=\"col-md-8 col-sm mx-auto\">\r\n                            {cart.length ? <small><strong><i class=\"fad fa-shopping-cart\" style={{ color: '#071B4D' }}></i> Your Shopping Cart</strong></small> : ''}\r\n                            {cart.map((item, index) => {\r\n                                return (\r\n                                    <>\r\n                                        <div class=\"d-flex flex-row justify-content-center align-items-center p-2  mt-4 px-3 rounded\" style={{ backgroundColor: '#F6F7F6' }}>\r\n                                            <div class=\"mr-1\">  <i class=\"fab fa-react fa-3x\" style={{ color: \" #e361ff\" }}></i></div>\r\n                                            <div class=\"d-flex flex-column align-items-center product-details\"><small class=\"font-weight-bold\">{item.title}</small>\r\n                                                <div class=\"d-flex flex-row product-desc\">\r\n                                                    <div class=\"color\"><span class=\"text-grey\">Tutor:</span><span class=\"font-weight-bold\">&nbsp;{item.tutor}</span></div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"d-flex flex-row align-items-center qty\">\r\n                                            </div>\r\n                                            <div>\r\n                                                <h5 class=\"text-grey fl\">${item.cost}</h5>\r\n                                            </div>\r\n                                            <div class=\"d-flex align-items-center\" onClick={() => deleteItem(index)}><i class=\"fa fa-trash mb-1 text-danger\"></i></div>\r\n                                        </div>\r\n                                        \r\n                                    </>\r\n                                )\r\n                            })}\r\n\r\n                            {cart.length ? <button to='payment' class=\"btn d-flex mx-auto\" type=\"button\" onClick={preparePayment}><span>Proceed to pay <strong>{cart.reduce(function (total, obj) { return total + obj.cost}, 0)}</strong></span></button> : ''}\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <TrendingCourses />\r\n            <BackTotop />\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n"]},"metadata":{},"sourceType":"module"}