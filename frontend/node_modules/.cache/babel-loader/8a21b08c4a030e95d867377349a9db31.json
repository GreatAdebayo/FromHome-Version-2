{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/FROMHOME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Footer from'./footer';import Navbar from'./navbar';import{useParams}from'react-router';import axios from'axios';import{Baseurl}from'../baseurl';import{useLocation}from'react-router';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import RelatedCourses from'./related_courses';import Skeleton from'react-loading-skeleton';import{Link}from'react-router-dom';import CourseReview from'./course_review';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CourseDetails=function CourseDetails(){var path=useLocation();var _useParams=useParams(),code=_useParams.code;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),details=_useState2[0],setDetails=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sections=_useState4[0],setSections=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),lname=_useState6[0],setLname=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),number=_useState8[0],setNumber=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),access=_useState10[0],setAccess=_useState10[1];useEffect(function(){if(!localStorage.cart){var cart=[];localStorage.setItem('cart',JSON.stringify(cart));}axios.get(\"\".concat(Baseurl,\"coursedetails\"),{params:{code:code}}).then(function(res){if(res.data){setDetails(res.data.details);setSections(res.data.sections);setLname(res.data.lname);setNumber(res.data.no);}});},[]);useEffect(function(){var token=sessionStorage.Token;if(token){axios.get(\"\".concat(Baseurl,\"courseaccess\"),{headers:{'Authorization':'Bearer'+token},params:{code:code}}).then(function(res){if(res.data==='paid'){setAccess(true);}});}},[]);var addToCart=function addToCart(){var cart=JSON.parse(localStorage.getItem('cart'));if(details.course_title&&details.course_code&&details.course_cost&&details.category&&lname){if(cart){var courseDetails={title:details.course_title,code:details.course_code,cost:details.course_cost,category:details.category,tutor:lname};cart.push(courseDetails);localStorage.setItem('cart',JSON.stringify(cart));toast(\"üëç Added to Cart!\",{autoClose:2000});}}};var addwishlist=function addwishlist(){var token=sessionStorage.Token;if(token){axios.post(\"\".concat(Baseurl,\"addwishlist\"),{code:code},{headers:{'Authorization':'Bearer'+token}}).then(function(res){if(res.data==='added'){toast(\"üëç Added to wishlists!\",{autoClose:2000});}else if(res.data==='alreadyAdded'){toast(\"‚úã Already Added!\",{autoClose:2000});}}).catch(function(error){if(error.response.status===500){sessionStorage.setItem('Path',path.pathname);}});}else{toast(\"‚úã Login to Wishlist!\",{autoClose:2000});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"section\",{id:\"course-details\",class:\"course-details\",children:[/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(ToastContainer,{})}),/*#__PURE__*/_jsx(\"div\",{class:\"container\",\"data-aos\":\"fade-in\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col-lg-8\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"assets/img/course-details.jpg\",class:\"img-fluid\",alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-capitalize\",children:details.course_title?details.course_title:/*#__PURE__*/_jsx(Skeleton,{count:1})}),/*#__PURE__*/_jsx(\"p\",{children:details.description?details.description:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Skeleton,{count:4})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[access?'':/*#__PURE__*/_jsx(_Fragment,{children:details.course_title?/*#__PURE__*/_jsxs(\"small\",{onClick:addwishlist,style:{color:'#071B4D',cursor:'pointer'},className:\"px-2\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-bookmark\"}),/*#__PURE__*/_jsx(\"strong\",{children:\" Wishlist\"})]}):/*#__PURE__*/_jsx(\"small\",{className:\"px-2\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\",style:{color:'#0D826E'}})})}),/*#__PURE__*/_jsxs(\"small\",{style:{color:'#071B4D'},className:\"px-2\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fad fa-user-alt\"}),/*#__PURE__*/_jsxs(\"strong\",{children:[\" \",number?number:0,\" Enrolled\"]})]}),details.course_title?/*#__PURE__*/_jsx(\"small\",{style:{color:'#071B4D'},className:\"px-2\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-star\",style:{color:'#FFD700',fontSize:'13px'}}),/*#__PURE__*/_jsx(\"i\",{class:\"far fa-star\",style:{color:'#071B4D',fontSize:'13px'}}),/*#__PURE__*/_jsx(\"i\",{class:\"far fa-star\",style:{color:'#071B4D',fontSize:'13px'}}),\" \"]})}):/*#__PURE__*/_jsx(\"small\",{className:\"px-2\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\",style:{color:'#0D826E'}})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"section\",{id:\"cource-details-tabs\",class:\"cource-details-tabs mt-5\",children:[/*#__PURE__*/_jsx(\"ul\",{class:\"nav nav-tabs flex-column\",children:/*#__PURE__*/_jsx(\"li\",{class:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{class:\"nav-link active show\",\"data-toggle\":\"tab\",href:\"\",children:\"\\uD83D\\uDCDA Course Sections\"})})}),/*#__PURE__*/_jsx(\"div\",{class:\"p-2 learn\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:sections.length?sections.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6 p-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-capitalize\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-check-circle me-2\"}),item.section_name]})},index);}):/*#__PURE__*/_jsx(\"li\",{class:\"nav-item mt-2\",children:/*#__PURE__*/_jsx(Skeleton,{count:3})})})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-lg-4 mt-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"course-info d-flex justify-content-between align-items-center\",style:{borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"small\",{children:\"Tutor\"}),/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:lname?lname:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\",style:{color:'#0D826E'}})})})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"course-info d-flex justify-content-between align-items-center\",style:{borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"small\",{children:\"Cost\"}),/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:details.course_cost?\"\\u20A6\".concat(details.course_cost):/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\",style:{color:'#0D826E'}})})})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"course-info d-flex justify-content-between align-items-center\",style:{borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"small\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:details.category?details.category:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\",style:{color:'#0D826E'}})})})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"course-info d-flex justify-content-between align-items-center\",style:{borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"small\",{children:\"Attendance\"}),/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:number?number:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\",style:{color:'#0D826E'}})})})})]}),details.course_title?/*#__PURE__*/_jsx(\"div\",{class:\"course-info d-flex justify-content-between align-items-center\",style:{borderRadius:'8px'},children:access?/*#__PURE__*/_jsx(Link,{to:\"/preview-course/\".concat(code),class:\"btn d-flex mx-auto mb-2\",type:\"submit\",disabled:!details.course_title,children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"small\",{children:\"Preview Course\"})})}):/*#__PURE__*/_jsx(\"button\",{class:\"btn d-flex mx-auto mb-2\",type:\"submit\",disabled:!details.course_title,onClick:addToCart,children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fad fa-shopping-cart\"}),\" Add to Cart\"]})})})}):'']})]})})]}),/*#__PURE__*/_jsx(CourseReview,{code:code}),/*#__PURE__*/_jsx(RelatedCourses,{code:code}),/*#__PURE__*/_jsx(Footer,{})]});};export default CourseDetails;","map":{"version":3,"sources":["C:/xampp/htdocs/FROMHOME/frontend/src/components/landing_page/course_details.js"],"names":["React","useEffect","useState","Footer","Navbar","useParams","axios","Baseurl","useLocation","ToastContainer","toast","RelatedCourses","Skeleton","Link","CourseReview","CourseDetails","path","code","details","setDetails","sections","setSections","lname","setLname","number","setNumber","access","setAccess","localStorage","cart","setItem","JSON","stringify","get","params","then","res","data","no","token","sessionStorage","Token","headers","addToCart","parse","getItem","course_title","course_code","course_cost","category","courseDetails","title","cost","tutor","push","autoClose","addwishlist","post","catch","error","response","status","pathname","description","color","cursor","fontSize","length","map","item","index","section_name","borderRadius"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Footer from './footer'\r\nimport Navbar from './navbar'\r\nimport { useParams } from 'react-router'\r\nimport axios from 'axios'\r\nimport { Baseurl } from '../baseurl'\r\nimport { useLocation } from 'react-router'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport RelatedCourses from './related_courses'\r\nimport Skeleton from 'react-loading-skeleton'\r\nimport { Link } from 'react-router-dom'\r\nimport CourseReview from './course_review'\r\n\r\n\r\n\r\nconst CourseDetails = () => {\r\n    let path = useLocation()\r\n    const { code } = useParams();\r\n    const [details, setDetails] = useState({})\r\n    const [sections, setSections] = useState([])\r\n    const [lname, setLname] = useState('')\r\n    const [number, setNumber] = useState('')\r\n    const [access, setAccess] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(!localStorage.cart){\r\n        let cart = [];\r\n        localStorage.setItem('cart', JSON.stringify(cart))\r\n        }\r\n\r\n        axios.get(`${Baseurl}coursedetails`, {\r\n            params: { code: code }\r\n        }).then((res) => {\r\n            if (res.data) {\r\n                setDetails(res.data.details)\r\n                setSections(res.data.sections)\r\n                setLname(res.data.lname)\r\n                setNumber(res.data.no)\r\n            }\r\n        })\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        let token = sessionStorage.Token\r\n        if (token) {\r\n            axios.get(`${Baseurl}courseaccess`, {\r\n                headers: {\r\n                    'Authorization': 'Bearer' + token\r\n                },\r\n                params: {\r\n                    code: code\r\n                }\r\n            }).then((res) => {\r\n                if (res.data === 'paid') {\r\n                    setAccess(true)\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n    }, [])\r\n\r\n\r\n    const addToCart = () => {\r\n        let cart = JSON.parse(localStorage.getItem('cart'))\r\n        if(details.course_title  && details.course_code  && details.course_cost  && details.category  && lname){\r\n           if (cart){ \r\n             let courseDetails = {\r\n                    title: details.course_title, code: details.course_code,\r\n                    cost: details.course_cost, category: details.category, tutor:lname\r\n                }\r\n                cart.push(courseDetails);\r\n                localStorage.setItem('cart', JSON.stringify(cart))\r\n                toast(\"üëç Added to Cart!\", {\r\n                    autoClose: 2000,\r\n                })\r\n           } \r\n     \r\n        }\r\n       \r\n    }\r\n\r\n    const addwishlist = () => {\r\n        let token = sessionStorage.Token\r\n        if (token) {\r\n            axios.post(`${Baseurl}addwishlist`, { code: code }, {\r\n                headers: {\r\n                    'Authorization': 'Bearer' + token\r\n                }\r\n            }).then((res) => {\r\n                if (res.data === 'added') {\r\n                    toast(\"üëç Added to wishlists!\", {\r\n                        autoClose: 2000,\r\n                    })\r\n                } else if (res.data === 'alreadyAdded') {\r\n                    toast(\"‚úã Already Added!\", {\r\n                        autoClose: 2000,\r\n                    })\r\n                }\r\n            }).catch((error) => {\r\n                if (error.response.status === 500) {\r\n                    sessionStorage.setItem('Path', path.pathname)\r\n                }\r\n            })\r\n        } else {\r\n            toast(\"‚úã Login to Wishlist!\", {\r\n                autoClose: 2000,\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <section id=\"course-details\" class=\"course-details\">\r\n                <small><ToastContainer /></small>\r\n                <div class=\"container\" data-aos=\"fade-in\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-8\">\r\n                            <img src=\"assets/img/course-details.jpg\" class=\"img-fluid\" alt=\"\" />\r\n                            <h3 className='text-capitalize'>{details.course_title ? details.course_title : <Skeleton count={1} />}</h3>\r\n                            <p>\r\n                                {details.description ? details.description : <p><Skeleton count={4} /></p>}\r\n                            </p>\r\n                            <div className='mt-3'>\r\n                                {access ? '' : <>{details.course_title ? <small onClick={addwishlist} style={{ color: '#071B4D', cursor: 'pointer' }} className='px-2'><i class=\"fas fa-bookmark\"></i><strong> Wishlist</strong></small> : <small className='px-2'><i class=\"fas fa-spinner fa-spin\" style={{ color: '#0D826E' }}></i></small>}</>}\r\n                                <small style={{ color: '#071B4D' }} className='px-2'><i class=\"fad fa-user-alt\"></i><strong> {number ? number : 0} Enrolled</strong></small>\r\n                                {details.course_title ? <small style={{ color: '#071B4D' }} className='px-2'><strong>\r\n                                    <i class=\"fas fa-star\" style={{ color: '#FFD700', fontSize: '13px' }}></i>\r\n                                    <i class=\"far fa-star\" style={{ color: '#071B4D', fontSize: '13px' }}></i>\r\n                                    <i class=\"far fa-star\" style={{ color: '#071B4D', fontSize: '13px' }}></i> </strong>\r\n                                </small> : <small className='px-2'><i class=\"fas fa-spinner fa-spin\" style={{ color: '#0D826E' }}></i></small>}<br />\r\n\r\n                                <section id=\"cource-details-tabs\" class=\"cource-details-tabs mt-5\">\r\n                                    <ul class=\"nav nav-tabs flex-column\">\r\n                                        <li class=\"nav-item\">\r\n                                            <a class=\"nav-link active show\" data-toggle=\"tab\" href=\"\">üìö Course Sections</a>\r\n                                        </li>\r\n                                    </ul>\r\n                                              <div class=\"p-2 learn\">\r\n                                                <div class=\"row\">\r\n                                                {sections.length ? sections.map((item, index) => {\r\n                                            return (\r\n                                                <div class=\"col-md-6 p-2\" key={index}>\r\n                                                 <small className='text-capitalize'><i class=\"fa fa-check-circle me-2\"></i>{item.section_name}</small>\r\n                                                </div>\r\n                                              \r\n                                            )\r\n                                        }) : <li class=\"nav-item mt-2\"><Skeleton count={3} /></li>}\r\n                                              </div>\r\n                                              </div>\r\n                                   \r\n                                </section>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div class=\"col-lg-4 mt-auto\">\r\n\r\n                            <div class=\"course-info d-flex justify-content-between align-items-center\" style={{ borderRadius: '8px' }}>\r\n                                <small>Tutor</small>\r\n                                <small><strong>{lname ? lname : <small><i class=\"fas fa-spinner fa-spin\" style={{ color: '#0D826E' }}></i></small>}</strong></small>\r\n                            </div>\r\n\r\n                            <div class=\"course-info d-flex justify-content-between align-items-center\" style={{ borderRadius: '8px' }}>\r\n                                <small>Cost</small>\r\n                                <small><strong>{details.course_cost ? `‚Ç¶${details.course_cost}` : <small><i class=\"fas fa-spinner fa-spin\" style={{ color: '#0D826E' }}></i></small>}</strong></small>\r\n                            </div>\r\n\r\n                            <div class=\"course-info d-flex justify-content-between align-items-center\" style={{ borderRadius: '8px' }}>\r\n                                <small>Category</small>\r\n                                <small><strong>{details.category ? details.category : <small><i class=\"fas fa-spinner fa-spin\" style={{ color: '#0D826E' }}></i></small>}</strong></small>\r\n                            </div>\r\n\r\n                            <div class=\"course-info d-flex justify-content-between align-items-center\" style={{ borderRadius: '8px' }}>\r\n                                <small>Attendance</small>\r\n                                <small><strong>{number ? number : <small><i class=\"fas fa-spinner fa-spin\" style={{ color: '#0D826E' }}></i></small>}</strong></small>\r\n                            </div>\r\n\r\n                            {details.course_title ? <div class=\"course-info d-flex justify-content-between align-items-center\" style={{ borderRadius: '8px' }}>\r\n                                {access ? <Link to={`/preview-course/${code}`} class=\"btn d-flex mx-auto mb-2\" type=\"submit\" disabled={!details.course_title}><b><small>Preview Course</small></b></Link> :\r\n                                <button class=\"btn d-flex mx-auto mb-2\" type=\"submit\" disabled={!details.course_title} onClick={addToCart}><b><small><i class=\"fad fa-shopping-cart\"></i> Add to Cart</small></b></button>}\r\n                            </div> : ''}\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </section>\r\n\r\n            <CourseReview code={code}/>\r\n            <RelatedCourses code={code}/>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CourseDetails\r\n"]},"metadata":{},"sourceType":"module"}