{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/FROMHOME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Footer from'./footer';import Navbar from'./navbar';import{Formik,Form,Field,ErrorMessage}from'formik';import{useHistory,useParams}from'react-router';import axios from'axios';import{Baseurl}from'../baseurl';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AccountVerify=function AccountVerify(){var _useParams=useParams(),email=_useParams.email;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showloader=_useState2[0],setShowloader=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showResendloader=_useState4[0],setResendloader=_useState4[1];var history=useHistory();var resendCode=function resendCode(){setResendloader(true);axios.post(\"\".concat(Baseurl,\"resendcode\"),{email:email}).then(function(res){setResendloader(false);if(res.data){var response=res.data;toast(\"\\uD83D\\uDC4D \".concat(response,\", check your email!\"),{autoClose:3000});}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"section\",{className:\"about container-fluid mt-4\",id:\"about\",children:[/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(ToastContainer,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-sm mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"login-card\",style:{borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"assets/img/logo.png\",alt:\"\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Account Verification\"})}),/*#__PURE__*/_jsx(Formik,{initialValues:{code:'',email:email},validate:function validate(values){var errors={};if(!values.code){errors.code='*Code Required';}else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)){errors.email='Invalid email address';}return errors;},onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;setTimeout(function(){setShowloader(true);axios.post(\"\".concat(Baseurl,\"verifycode\"),values).then(function(res){setShowloader(false);if(res.data==='Already Verified'){var response=res.data;toast(\"\\u270B \".concat(response),{autoClose:2000});setTimeout(function(){return history.push('/login');},2000);}else if(res.data==='Invalid or Expired Code'){var _response=res.data;toast(\"\\u270B \".concat(_response),{autoClose:3000});}else if(res.data==='Verified'){var _response2=res.data;toast(\"\\uD83D\\uDC4D Successfully \".concat(_response2),{autoClose:2000});setTimeout(function(){return history.push('/login');},2000);}else if(res.data==='User not Found'){var _response3=res.data;toast(\"\\uD83D\\uDE14 \".concat(_response3),{autoClose:3000});}});setSubmitting(false);},400);},children:function children(_ref2){var isSubmitting=_ref2.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:\"small\",className:\"text-danger\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"row-1\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{id:\"login-card-inner\",children:\"4-digit Code\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(Field,{type:\"number\",placeholder:\"Enter verification code\",name:\"code\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"code\",component:\"small\",className:\"text-danger\"})]})]}),/*#__PURE__*/_jsx(\"button\",{class:\"btn d-flex mx-auto mb-3\",type:\"submit\",disabled:isSubmitting,children:/*#__PURE__*/_jsxs(\"b\",{children:[showloader?/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\"}):'',\" Submit\"]})})]});}}),/*#__PURE__*/_jsx(\"small\",{style:{cursor:'pointer',color:'#0D826E'},onClick:resendCode,children:/*#__PURE__*/_jsxs(\"strong\",{children:[showResendloader?/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\"}):'',\" Resend Code\"]})})]})})})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default AccountVerify;","map":{"version":3,"sources":["C:/xampp/htdocs/FROMHOME/frontend/src/components/landing_page/account_verification.js"],"names":["React","useState","Footer","Navbar","Formik","Form","Field","ErrorMessage","useHistory","useParams","axios","Baseurl","ToastContainer","toast","AccountVerify","email","showloader","setShowloader","showResendloader","setResendloader","history","resendCode","post","then","res","data","response","autoClose","borderRadius","code","values","errors","test","setSubmitting","setTimeout","push","isSubmitting","cursor","color"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Footer from './footer'\r\nimport Navbar from './navbar'\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport axios from 'axios';\r\nimport { Baseurl } from '../baseurl';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nconst AccountVerify = () => {\r\n    const { email } = useParams();\r\n    const [showloader, setShowloader] = useState(false)\r\n    const [showResendloader, setResendloader] = useState(false)\r\n    const history = useHistory();\r\n    \r\n    const resendCode = ()=>{\r\n        setResendloader(true)\r\n        axios.post(`${Baseurl}resendcode`, {email:email}).then((res)=>{\r\n        setResendloader(false)\r\n        if(res.data){\r\n        let response = res.data\r\n        toast(`👍 ${response}, check your email!`, {\r\n            autoClose: 3000,\r\n        })\r\n        }\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <section className=\"about container-fluid mt-4\" id=\"about\">\r\n            <small><ToastContainer/></small>\r\n                <div className='container-fluid'>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6 col-sm mx-auto\">\r\n                            <div class=\"login-card\" style={{ borderRadius: '10px' }}>\r\n                                <img src=\"assets/img/logo.png\" alt=\"\" /> <br />\r\n                                <small><strong>Account Verification</strong></small>\r\n                                <Formik\r\n                                    initialValues={{code: '', email: email }}\r\n                                    validate={values => {\r\n                                        const errors = {};\r\n                                        if (!values.code) {\r\n                                            errors.code = '*Code Required';\r\n                                        } else if (\r\n                                            !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n                                        ) {\r\n                                            errors.email = 'Invalid email address';\r\n                                        } \r\n\r\n                                        return errors;\r\n                                    }}\r\n                                    onSubmit={(values, { setSubmitting }) => {\r\n                                        setTimeout(() => {\r\n                                            setShowloader(true)\r\n                                            axios.post(`${Baseurl}verifycode`, values).then((res)=>{\r\n                                              setShowloader(false)\r\n                                              if(res.data === 'Already Verified'){\r\n                                                let response = res.data\r\n                                                toast(`✋ ${response}`, {\r\n                                                    autoClose: 2000,\r\n                                                }) \r\n                                                setTimeout(()=>history.push('/login'), 2000)\r\n                                                 \r\n                                              }else if(res.data === 'Invalid or Expired Code'){\r\n                                                let response = res.data\r\n                                                toast(`✋ ${response}`, {\r\n                                                    autoClose: 3000,\r\n                                                }) \r\n                                              }else if(res.data === 'Verified'){\r\n                                                let response = res.data\r\n                                                toast(`👍 Successfully ${response}`, {\r\n                                                    autoClose: 2000,\r\n                                                })\r\n                                                setTimeout(()=>history.push('/login'), 2000)\r\n                                                \r\n                                              }else if(res.data === 'User not Found'){\r\n                                                let response = res.data\r\n                                                toast(`😔 ${response}`, {\r\n                                                    autoClose: 3000,\r\n                                                })\r\n                                              }\r\n                                            })\r\n                                            setSubmitting(false);\r\n                                        }, 400);\r\n                                    }}\r\n                                >\r\n                                    {({ isSubmitting }) => (\r\n\r\n                                        <Form>\r\n\r\n                                   <ErrorMessage name=\"email\" component=\"small\" className='text-danger' />\r\n                                            <div class=\"row-1\">\r\n                                                <div class=\"row row-2\"> <span id=\"login-card-inner\">4-digit Code</span> </div>\r\n                                                <div class=\"row row-2\"> <Field type=\"number\" placeholder=\"Enter verification code\" name=\"code\" />\r\n                                                    <ErrorMessage name=\"code\" component=\"small\" className='text-danger' /> \r\n                                                    </div>\r\n                                            </div>\r\n\r\n                                            <button class=\"btn d-flex mx-auto mb-3\" type=\"submit\" disabled={isSubmitting}><b>{showloader ? <i class=\"fas fa-spinner fa-spin\"></i>:''} Submit</b></button>\r\n                                        </Form>\r\n                                    )}\r\n                                </Formik>\r\n                                <small style={{ cursor: 'pointer', color:'#0D826E'}} onClick={resendCode}><strong>{showResendloader ? <i class=\"fas fa-spinner fa-spin\"></i>:''} Resend Code</strong>\r\n                            </small>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </section>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AccountVerify\r\n"]},"metadata":{},"sourceType":"module"}