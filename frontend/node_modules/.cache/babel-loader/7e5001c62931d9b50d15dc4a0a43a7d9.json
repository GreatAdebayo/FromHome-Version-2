{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\FROMHOME\\\\frontend\\\\src\\\\components\\\\dashboard\\\\settings.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport axios from 'axios';\nimport { Baseurl } from '../baseurl';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { codes } from './bank_codes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Settings = () => {\n  _s();\n\n  const [details, setDetails] = useState({});\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"page-content page-container mx-auto mb-5\",\n      id: \"page-content\",\n      style: {\n        marginTop: '80px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"small\", {\n        children: /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row container d-flex justify-content-center mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"profile-card user-card-full\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md-8 mx-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"card-block\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                class: \"m-b-20 p-b-5 b-b-default f-w-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fad fa-info-square\",\n                  style: {\n                    color: '#071B4D'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 19,\n                  columnNumber: 78\n                }, this), \" Basic Information\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 19,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row\",\n                children: /*#__PURE__*/_jsxDEV(Formik, {\n                  initialValues: {\n                    phone: '234'\n                  },\n                  validate: values => {\n                    const errors = {};\n\n                    if (!values.phone) {\n                      errors.phone = '*Phone Number Required';\n                    } else if (Math.ceil(Math.log10(values.phone)) < 13) {\n                      errors.phone = '*Phone Number Should be 11 digits';\n                    } else if (Math.ceil(Math.log10(values.phone)) > 13) {\n                      errors.phone = '*Phone Number Should be 11 digits';\n                    }\n\n                    return errors;\n                  },\n                  onSubmit: (values, {\n                    setSubmitting\n                  }) => {\n                    setTimeout(() => {\n                      let token = sessionStorage.Token;\n                      axios.post(`${Baseurl}updateprofile`, values, {\n                        headers: {\n                          'Authorization': 'Bearer' + token\n                        }\n                      }).then(res => {\n                        setSubmitting(false);\n\n                        if (res.data === 'phoneexists') {\n                          toast(`😔 You have a number already`, {\n                            autoClose: 2000\n                          });\n                        } else if (res.data === 'updated') {\n                          toast(`👍 Successfully Updated`, {\n                            autoClose: 2000\n                          });\n                        }\n                      }).catch(error => {\n                        if (error.response.status === 422) {\n                          setSubmitting(false);\n                          toast(\"✋ Phone Number already taken!\", {\n                            autoClose: 2000\n                          });\n                        }\n                      });\n                    }, 400);\n                  },\n                  children: ({\n                    isSubmitting\n                  }) => /*#__PURE__*/_jsxDEV(Form, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"row-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"row row-2\",\n                        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          id: \"login-card-inner\",\n                          children: \"Phone Number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 70,\n                          columnNumber: 77\n                        }, this), \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 70,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"row row-2\",\n                        children: [\" \", /*#__PURE__*/_jsxDEV(Field, {\n                          type: \"number\",\n                          placeholder: \"Phone Number\",\n                          name: \"phone\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 71,\n                          columnNumber: 77\n                        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                          name: \"phone\",\n                          component: \"small\",\n                          className: \"text-danger\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 72,\n                          columnNumber: 57\n                        }, this), \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 71,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 69,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      class: \"btn d-flex mx-auto mb-2\",\n                      type: \"submit\",\n                      disabled: isSubmitting,\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: [isSubmitting ? /*#__PURE__*/_jsxDEV(\"i\", {\n                          class: \"fas fa-spinner fa-spin\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 74,\n                          columnNumber: 146\n                        }, this) : '', \" Update\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 74,\n                        columnNumber: 127\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 74,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 22,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 20,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                class: \"m-b-20 m-t-40 p-b-5 b-b-default f-w-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fas fa-university\",\n                  style: {\n                    color: '#071B4D'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 85\n                }, this), \" Bank Details\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row\",\n                children: /*#__PURE__*/_jsxDEV(Formik, {\n                  initialValues: {\n                    acc_no: '',\n                    bankCode: ''\n                  },\n                  validate: values => {\n                    const errors = {};\n\n                    if (!values.bankCode) {\n                      errors.bankCode = '*Bank Name Required';\n                    } else if (!values.acc_no) {\n                      errors.acc_no = '*Account Number Required';\n                    }\n\n                    return errors;\n                  },\n                  onSubmit: (values, {\n                    setSubmitting\n                  }) => {\n                    setTimeout(() => {\n                      let token = sessionStorage.Token;\n                      axios.post(`${Baseurl}updatebank`, values, {\n                        headers: {\n                          'Authorization': 'Bearer' + token\n                        }\n                      }).then(res => {\n                        setSubmitting(false);\n\n                        if (res.data === 'bankexists') {\n                          toast(`😔 You have a bank info already`, {\n                            autoClose: 2000\n                          });\n                        } else if (res.data === 'Invalid Account') {\n                          toast(`😔 Account Number Invalid`, {\n                            autoClose: 2000\n                          });\n                        } else {\n                          set(res.data);\n                          toast(`👍 Account Number Added`, {\n                            autoClose: 2000\n                          });\n                        }\n                      }).catch(error => {\n                        if (error.response.status === 422) {\n                          setSubmitting(false);\n                          toast(\"✋ Account Number already used!\", {\n                            autoClose: 2000\n                          });\n                        }\n                      });\n                    }, 400);\n                  },\n                  children: ({\n                    isSubmitting\n                  }) => /*#__PURE__*/_jsxDEV(Form, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"row-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"row row-2\",\n                        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          id: \"login-card-inner\",\n                          children: \"Bank Name\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 135,\n                          columnNumber: 77\n                        }, this), \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 135,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"row row-2\",\n                        children: [/*#__PURE__*/_jsxDEV(Field, {\n                          as: \"select\",\n                          name: \"bankCode\",\n                          class: \"form-select form-select-sm mt-1\",\n                          \"aria-label\": \".form-select-sm example\",\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            selected: true,\n                            children: \"Choose your bank\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 138,\n                            columnNumber: 53\n                          }, this), codes.map((item, index) => {\n                            return /*#__PURE__*/_jsxDEV(_Fragment, {\n                              children: /*#__PURE__*/_jsxDEV(\"option\", {\n                                value: item.code,\n                                children: item.name\n                              }, index, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 142,\n                                columnNumber: 57\n                              }, this)\n                            }, void 0, false);\n                          })]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 137,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                          name: \"bankCode\",\n                          component: \"small\",\n                          className: \"text-danger\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 148,\n                          columnNumber: 53\n                        }, this), \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"row-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"row row-2\",\n                        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          id: \"login-card-inner\",\n                          children: \"Account Number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 152,\n                          columnNumber: 77\n                        }, this), \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"row row-2\",\n                        children: [\" \", /*#__PURE__*/_jsxDEV(Field, {\n                          type: \"text\",\n                          placeholder: \"Your Account Number\",\n                          name: \"acc_no\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 153,\n                          columnNumber: 77\n                        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                          name: \"acc_no\",\n                          component: \"small\",\n                          className: \"text-danger\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 154,\n                          columnNumber: 57\n                        }, this), \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 153,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                        style: {\n                          color: '#071B4D'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: accName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 155,\n                          columnNumber: 90\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 155,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      class: \"btn d-flex mx-auto mb-2\",\n                      type: \"submit\",\n                      disabled: isSubmitting,\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: [isSubmitting ? /*#__PURE__*/_jsxDEV(\"i\", {\n                          class: \"fas fa-spinner fa-spin\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 157,\n                          columnNumber: 146\n                        }, this) : '', \" Add Bank\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 127\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 18,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 17,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Settings, \"iRIEZ0IKTQQ6B6uf7snPKCVflsc=\");\n\n_c = Settings;\nexport default Settings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"sources":["C:/xampp/htdocs/FROMHOME/frontend/src/components/dashboard/settings.js"],"names":["React","useState","Formik","Form","Field","ErrorMessage","axios","Baseurl","ToastContainer","toast","codes","Settings","details","setDetails","marginTop","color","phone","values","errors","Math","ceil","log10","setSubmitting","setTimeout","token","sessionStorage","Token","post","headers","then","res","data","autoClose","catch","error","response","status","isSubmitting","acc_no","bankCode","set","map","item","index","code","name","accName"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport axios from 'axios';\r\nimport { Baseurl } from '../baseurl';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { codes } from './bank_codes';\r\n\r\nconst Settings = () => {\r\n    const [details, setDetails] = useState({})\r\n    return (\r\n        <>\r\n            <div class=\"page-content page-container mx-auto mb-5\" id=\"page-content\" style={{ marginTop: '80px' }}>\r\n                <small><ToastContainer /></small>\r\n                <div class=\"row container d-flex justify-content-center mx-auto\">\r\n                    <div class=\"profile-card user-card-full\">\r\n                        <div class=\"col-md-8 mx-auto\">\r\n                            <div class=\"card-block\">\r\n                                <h6 class=\"m-b-20 p-b-5 b-b-default f-w-600\"><i class=\"fad fa-info-square\" style={{color:'#071B4D'}}></i> Basic Information</h6>\r\n                                <div class=\"row\">\r\n                                    {/* Phone number update */}\r\n                                    <Formik\r\n                                        initialValues={{ phone: '234' }}\r\n                                        validate={values => {\r\n                                            const errors = {};\r\n                                            if (!values.phone) {\r\n                                                errors.phone = '*Phone Number Required';\r\n                                            } else if (Math.ceil(Math.log10(values.phone)) < 13) {\r\n                                                errors.phone = '*Phone Number Should be 11 digits';\r\n                                            } else if (Math.ceil(Math.log10(values.phone)) > 13) {\r\n                                                errors.phone = '*Phone Number Should be 11 digits';\r\n                                            }\r\n\r\n                                            return errors;\r\n                                        }}\r\n                                        onSubmit={(values, { setSubmitting }) => {\r\n                                            setTimeout(() => {\r\n                                                let token = sessionStorage.Token\r\n                                                axios.post(`${Baseurl}updateprofile`, values, {\r\n                                                    headers: {\r\n                                                        'Authorization': 'Bearer' + token\r\n                                                    }\r\n                                                }).then((res) => {\r\n                                                    setSubmitting(false)\r\n                                                    if (res.data === 'phoneexists') {\r\n                                                        toast(`😔 You have a number already`, {\r\n                                                            autoClose: 2000,\r\n                                                        })\r\n                                                    } else if (res.data === 'updated') {\r\n                                                        toast(`👍 Successfully Updated`, {\r\n                                                            autoClose: 2000,\r\n                                                        })\r\n                                                    }\r\n                                                }).catch((error) => {\r\n                                                    if (error.response.status === 422) {\r\n                                                        setSubmitting(false);\r\n                                                        toast(\"✋ Phone Number already taken!\", {\r\n                                                            autoClose: 2000,\r\n                                                        })\r\n                                                    }\r\n                                                })\r\n\r\n                                            }, 400);\r\n                                        }}\r\n                                    >\r\n                                        {({ isSubmitting }) => (\r\n\r\n                                            <Form>\r\n                                                <div class=\"row-1\">\r\n                                                    <div class=\"row row-2\"> <span id=\"login-card-inner\">Phone Number</span> </div>\r\n                                                    <div class=\"row row-2\"> <Field type=\"number\" placeholder=\"Phone Number\" name=\"phone\" />\r\n                                                        <ErrorMessage name=\"phone\" component=\"small\" className='text-danger' /> </div>\r\n                                                </div>\r\n                                                <button class=\"btn d-flex mx-auto mb-2\" type=\"submit\" disabled={isSubmitting}><b>{isSubmitting ? <i class=\"fas fa-spinner fa-spin\"></i> : ''} Update</b></button>\r\n                                            </Form>\r\n                                        )}\r\n                                    </Formik>\r\n                                </div>\r\n                                <h6 class=\"m-b-20 m-t-40 p-b-5 b-b-default f-w-600\"><i class=\"fas fa-university\" style={{color:'#071B4D'}}></i> Bank Details</h6>\r\n                                <div class=\"row\">\r\n                                    \r\n                                    {/* Bank Details Update */}\r\n                                    <Formik\r\n                                        initialValues={{acc_no: '', bankCode: ''}}\r\n                                        validate={values => {\r\n                                            const errors = {};\r\n                                            if (!values.bankCode) {\r\n                                                errors.bankCode = '*Bank Name Required';\r\n                                            }\r\n                                            else if (!values.acc_no) {\r\n                                                errors.acc_no = '*Account Number Required';\r\n                                            }\r\n                                            \r\n\r\n                                            return errors;\r\n                                        }}\r\n                                        onSubmit={(values, { setSubmitting }) => {\r\n                                            setTimeout(() => {\r\n                                                let token = sessionStorage.Token\r\n                                                axios.post(`${Baseurl}updatebank`, values, {\r\n                                                    headers: {\r\n                                                        'Authorization': 'Bearer' + token\r\n                                                    }\r\n                                                }).then((res) => {\r\n                                                    setSubmitting(false)\r\n                                                    if (res.data === 'bankexists') {\r\n                                                        toast(`😔 You have a bank info already`, {\r\n                                                            autoClose: 2000,\r\n                                                        })\r\n                                                    } else if (res.data === 'Invalid Account') {\r\n                                                        toast(`😔 Account Number Invalid`, {\r\n                                                            autoClose: 2000,\r\n                                                        })\r\n                                                    }else{\r\n                                                        set(res.data)\r\n                                                        toast(`👍 Account Number Added`, {\r\n                                                            autoClose: 2000,\r\n                                                        })\r\n                                                    }\r\n                                                }).catch((error) => {\r\n                                                    if (error.response.status === 422) {\r\n                                                        setSubmitting(false);\r\n                                                        toast(\"✋ Account Number already used!\", {\r\n                                                            autoClose: 2000,\r\n                                                        })\r\n                                                    }\r\n                                                })\r\n                                            }, 400);\r\n                                        }}\r\n                                    >\r\n                                        {({ isSubmitting }) => (\r\n\r\n                                            <Form>\r\n                                                <div class=\"row-1\">\r\n                                                    <div class=\"row row-2\"> <span id=\"login-card-inner\">Bank Name</span> </div>\r\n                                                    <div class=\"row row-2\"> \r\n                                                    <Field as=\"select\" name=\"bankCode\" class=\"form-select form-select-sm mt-1\" aria-label=\".form-select-sm example\">\r\n                                                    <option selected>Choose your bank</option>\r\n                                                    {codes.map((item, index)=>{\r\n                                                        return(\r\n                                                            <>\r\n                                                        <option value={item.code} key={index}>{item.name}</option>\r\n                                                            </>\r\n                                                        )\r\n                                                    })}\r\n                                                \r\n                                                </Field>\r\n                                                    <ErrorMessage name=\"bankCode\" component=\"small\" className='text-danger' /> </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"row-1\">\r\n                                                    <div class=\"row row-2\"> <span id=\"login-card-inner\">Account Number</span> </div>\r\n                                                    <div class=\"row row-2\"> <Field type=\"text\" placeholder=\"Your Account Number\" name=\"acc_no\" />\r\n                                                        <ErrorMessage name=\"acc_no\" component=\"small\" className='text-danger' /> </div>\r\n                                                        <small style={{color:'#071B4D'}}><strong>{accName}</strong></small>\r\n                                                </div>\r\n                                                <button class=\"btn d-flex mx-auto mb-2\" type=\"submit\" disabled={isSubmitting}><b>{isSubmitting ? <i class=\"fas fa-spinner fa-spin\"></i> : ''} Add Bank</b></button>\r\n                                            </Form>\r\n                                        )}\r\n                                    </Formik>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Settings\r\n"]},"metadata":{},"sourceType":"module"}