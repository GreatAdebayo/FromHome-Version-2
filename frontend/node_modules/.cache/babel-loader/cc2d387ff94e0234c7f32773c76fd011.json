{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/FROMHOME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Skeleton from'react-loading-skeleton';import{Link}from'react-router-dom';import{useParams}from'react-router';import axios from'axios';import{Baseurl,Mediaurl}from'../../baseurl';import{useHistory}from'react-router';import{useLocation}from'react-router';import CourseReview from'../../landing_page/course_review';import ReactPlayer from'react-player';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TutorPreview=function TutorPreview(){document.title='Fromhome | Tutor Preview';var _useParams=useParams(),code=_useParams.code;var history=useHistory();var path=useLocation();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),section=_useState2[0],setSection=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),stats=_useState6[0],setStats=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),videoUrl=_useState8[0],setvideoUrl=_useState8[1];useEffect(function(){var token=sessionStorage.Token;if(token){axios.get(\"\".concat(Baseurl,\"tutorpreview\"),{params:{code:code,token:token}}).then(function(res){if(res.data){setSection(res.data.sections);setTitle(res.data.title);setStats(res.data.stats);}}).catch(function(error){if(error.response.status===500){sessionStorage.setItem('Path',path.pathname);history.push('/login');}});}},[]);var playVideo=function playVideo(video){setvideoUrl(video);console.log(Mediaurl+videoUrl);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{class:\"container-fluid mt-2\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-capitalize\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83D\\uDCFA \",title?title:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\",style:{color:'#0D826E'}})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"row mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-md-8 align-items-center vid-cont mt-2\",\"data-aos\":\"fade-in\",children:/*#__PURE__*/_jsx(ReactPlayer,{className:\"react-player\",url:Mediaurl+videoUrl,width:\"100%\",height:\"100%\",controls:true,playing:true,playsinline:true})}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-4  mt-3 px-0 accord-section\",\"data-aos\":\"fade-in\",children:[/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCDA Tutor Preview\"})}),/*#__PURE__*/_jsxs(\"ul\",{class:\"nav nav-pills p-2  justify-content-center\",id:\"pills-tab\",role:\"tablist\",children:[/*#__PURE__*/_jsx(\"li\",{class:\"nav-item\",role:\"presentation\",children:/*#__PURE__*/_jsx(\"button\",{class:\"nav-link active\",id:\"pills-home-tab\",\"data-bs-toggle\":\"pill\",\"data-bs-target\":\"#pills-home\",type:\"button\",role:\"tab\",\"aria-controls\":\"pills-home\",\"aria-selected\":\"true\",children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Sections\"})})})}),/*#__PURE__*/_jsx(\"li\",{class:\"nav-item\",role:\"presentation\",children:/*#__PURE__*/_jsx(\"button\",{class:\"nav-link\",id:\"pills-profile-tab\",\"data-bs-toggle\":\"pill\",\"data-bs-target\":\"#pills-profile\",type:\"button\",role:\"tab\",\"aria-controls\":\"pills-profile\",\"aria-selected\":\"false\",children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Stats\"})})})}),/*#__PURE__*/_jsx(\"li\",{class:\"nav-item\",role:\"presentation\",children:/*#__PURE__*/_jsx(\"button\",{class:\"nav-link\",id:\"pills-profile-tab\",\"data-bs-toggle\":\"pill\",\"data-bs-target\":\"#pills-review\",type:\"button\",role:\"tab\",\"aria-controls\":\"pills-profile\",\"aria-selected\":\"false\",children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Reviews\"})})})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"tab-content\",id:\"pills-tabContent\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"tab-pane fade show active\",id:\"pills-home\",role:\"tabpanel\",\"aria-labelledby\":\"pills-home-tab\",children:section.length?section.map(function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{class:\"accordion\",id:\"accordionExample\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"accordion-item\",children:[/*#__PURE__*/_jsx(\"h2\",{class:\"accordion-header\",id:\"headingOne\",children:/*#__PURE__*/_jsx(\"button\",{class:\"accordion-button fw-bold text-white border-0 rounded-0\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"aria-expanded\":\"true\",\"aria-controls\":\"collapseOne\",\"data-bs-target\":\"#\".concat(item.section_name.split(\" \").join(\"\")),children:/*#__PURE__*/_jsx(\"small\",{className:\"text-capitalize\",children:item.section_name})})}),/*#__PURE__*/_jsx(\"div\",{id:item.section_name.split(\" \").join(\"\"),class:\"accordion-collapse  collapse\",\"aria-labelledby\":\"headingOne\",\"data-bs-parent\":\"#accordionExample\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"accordion-body bg-secondary py-0\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row align-items-center course-part py-2\",children:item.no_of_videos.map(function(video,index){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-2\",onClick:function onClick(){return playVideo(video.video_url);},children:/*#__PURE__*/_jsx(\"i\",{class:\"fad fa-play\",style:{color:'#071B4D'}})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-7 text-wrap\",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-capitalize\",children:video.video_name})},index),/*#__PURE__*/_jsx(\"div\",{class:\"col-3\",children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[video.play_time,\"m\"]})})})]});})}),item.no_of_files.length?/*#__PURE__*/_jsxs(\"div\",{class:\"row align-items-center course-part py-2\",children:[/*#__PURE__*/_jsx(\"small\",{style:{color:'#0D826E'},children:/*#__PURE__*/_jsxs(\"strong\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fad fa-link\"}),\" Attachments\"]})}),item.no_of_files.map(function(file,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{class:\"col-7 text-wrap\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-capitalize\",children:[\"Attachment \",index+1]})},index)});})]}):'']})})]})},index)});}):/*#__PURE__*/_jsx(\"div\",{class:\"accordion mt-2\",children:/*#__PURE__*/_jsx(Skeleton,{count:3})})}),/*#__PURE__*/_jsx(\"div\",{class:\"tab-pane fade\",id:\"pills-profile\",role:\"tabpanel\",\"aria-labelledby\":\"pills-profile-tab\",children:/*#__PURE__*/_jsx(\"div\",{class:\"coupon p-3 bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row no-gutters\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-md-4 border-right\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"d-flex flex-column align-items-center\",children:[\"\\uD83E\\uDDD1\\uD83C\\uDFFD\\u200D\\uD83C\\uDF93\",/*#__PURE__*/_jsx(\"span\",{class:\"d-block\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Course\"})}),/*#__PURE__*/_jsx(\"span\",{class:\"text-black-50\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Stats\"})})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{class:\"d-flex flex-row justify-content-end off\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[stats>=1?100/stats:0,\"%\"]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"d-flex flex-row justify-content-between off px-3 p-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"No of Students:\"})})}),/*#__PURE__*/_jsx(\"span\",{class:\"border border-success px-3 rounded code\",children:/*#__PURE__*/_jsx(\"small\",{children:stats})})]})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{class:\"tab-pane fade\",id:\"pills-review\",role:\"tabpanel\",\"aria-labelledby\":\"pills-profile-tab\",children:/*#__PURE__*/_jsx(CourseReview,{code:code})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/created-courses/manage/edit-basic-details/\".concat(code),style:{color:'#071B4D'},children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fad fa-tasks-alt\",style:{color:'#0D826E'}}),\" Manage Course\"]})})})})]})]})]})]})});};export default TutorPreview;","map":{"version":3,"sources":["C:/xampp/htdocs/FROMHOME/frontend/src/components/dashboard/tutor/tutor_preview.js"],"names":["React","useEffect","useState","Skeleton","Link","useParams","axios","Baseurl","Mediaurl","useHistory","useLocation","CourseReview","ReactPlayer","TutorPreview","document","title","code","history","path","section","setSection","setTitle","stats","setStats","videoUrl","setvideoUrl","token","sessionStorage","Token","get","params","then","res","data","sections","catch","error","response","status","setItem","pathname","push","playVideo","video","console","log","color","length","map","item","index","section_name","split","join","no_of_videos","video_url","video_name","play_time","no_of_files","file"],"mappings":"wJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,SAAT,KAA0B,cAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,CAAkBC,QAAlB,KAAkC,eAAlC,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,C,6IAMA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBC,QAAQ,CAACC,KAAT,CAAiB,0BAAjB,CACA,eAAiBV,SAAS,EAA1B,CAAQW,IAAR,YAAQA,IAAR,CACA,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CACA,GAAMS,CAAAA,IAAI,CAAGR,WAAW,EAAxB,CACA,cAA8BR,QAAQ,CAAC,EAAD,CAAtC,wCAAOiB,OAAP,eAAgBC,UAAhB,eACA,eAA0BlB,QAAQ,CAAC,EAAD,CAAlC,yCAAOa,KAAP,eAAcM,QAAd,eACA,eAA0BnB,QAAQ,CAAC,EAAD,CAAlC,yCAAOoB,KAAP,eAAcC,QAAd,eACA,eAAgCrB,QAAQ,CAAC,EAAD,CAAxC,yCAAOsB,QAAP,eAAiBC,WAAjB,eAEAxB,SAAS,CAAC,UAAM,CACd,GAAIyB,CAAAA,KAAK,CAAGC,cAAc,CAACC,KAA3B,CACA,GAAIF,KAAJ,CAAW,CACTpB,KAAK,CAACuB,GAAN,WAAatB,OAAb,iBAAoC,CAClCuB,MAAM,CAAE,CAAEd,IAAI,CAAEA,IAAR,CAAcU,KAAK,CAAEA,KAArB,CAD0B,CAApC,EAEGK,IAFH,CAEQ,SAACC,GAAD,CAAS,CACf,GAAIA,GAAG,CAACC,IAAR,CAAc,CACZb,UAAU,CAACY,GAAG,CAACC,IAAJ,CAASC,QAAV,CAAV,CACAb,QAAQ,CAACW,GAAG,CAACC,IAAJ,CAASlB,KAAV,CAAR,CACAQ,QAAQ,CAACS,GAAG,CAACC,IAAJ,CAASX,KAAV,CAAR,CACD,CACF,CARD,EAQGa,KARH,CAQS,SAACC,KAAD,CAAW,CAClB,GAAIA,KAAK,CAACC,QAAN,CAAeC,MAAf,GAA0B,GAA9B,CAAmC,CACjCX,cAAc,CAACY,OAAf,CAAuB,MAAvB,CAA+BrB,IAAI,CAACsB,QAApC,EACAvB,OAAO,CAACwB,IAAR,CAAa,QAAb,EACD,CACF,CAbD,EAcD,CAEF,CAnBQ,CAmBN,EAnBM,CAAT,CAqBA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3BlB,WAAW,CAACkB,KAAD,CAAX,CACAC,OAAO,CAACC,GAAR,CAAYrC,QAAQ,CAAGgB,QAAvB,EACD,CAHD,CAIA,mBACE,sCACE,iBAAS,KAAK,CAAC,sBAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,uBAAmC,0CAAYT,KAAK,CAAGA,KAAH,cAAW,UAAG,KAAK,CAAC,wBAAT,CAAkC,KAAK,CAAE,CAAE+B,KAAK,CAAE,SAAT,CAAzC,EAA5B,GAAnC,EADF,cAEE,aAAK,KAAK,CAAC,aAAX,wBACE,YAAK,KAAK,CAAC,2CAAX,CAAuD,WAAS,SAAhE,uBAEA,KAAC,WAAD,EACI,SAAS,CAAC,cADd,CAEI,GAAG,CAAEtC,QAAQ,CAAGgB,QAFpB,CAGI,KAAK,CAAC,MAHV,CAII,MAAM,CAAC,MAJX,CAKI,QAAQ,CAAE,IALd,CAMI,OAAO,CAAE,IANb,CAOI,WAAW,CAAE,IAPjB,EAFA,EADF,cAaE,aAAK,KAAK,CAAC,oCAAX,CAAgD,WAAS,SAAzD,wBACE,oCAAO,sDAAP,EADF,cAEE,YAAI,KAAK,CAAC,2CAAV,CAAsD,EAAE,CAAC,WAAzD,CAAqE,IAAI,CAAC,SAA1E,wBACE,WAAI,KAAK,CAAC,UAAV,CAAqB,IAAI,CAAC,cAA1B,uBACE,eAAQ,KAAK,CAAC,iBAAd,CAAgC,EAAE,CAAC,gBAAnC,CAAoD,iBAAe,MAAnE,CAA0E,iBAAe,aAAzF,CAAuG,IAAI,CAAC,QAA5G,CAAqH,IAAI,CAAC,KAA1H,CAAgI,gBAAc,YAA9I,CAA2J,gBAAc,MAAzK,uBAAgL,oCAAO,oCAAP,EAAhL,EADF,EADF,cAIE,WAAI,KAAK,CAAC,UAAV,CAAqB,IAAI,CAAC,cAA1B,uBACE,eAAQ,KAAK,CAAC,UAAd,CAAyB,EAAE,CAAC,mBAA5B,CAAgD,iBAAe,MAA/D,CAAsE,iBAAe,gBAArF,CAAsG,IAAI,CAAC,QAA3G,CAAoH,IAAI,CAAC,KAAzH,CAA+H,gBAAc,eAA7I,CAA6J,gBAAc,OAA3K,uBAAmL,oCAAO,iCAAP,EAAnL,EADF,EAJF,cAOE,WAAI,KAAK,CAAC,UAAV,CAAqB,IAAI,CAAC,cAA1B,uBACE,eAAQ,KAAK,CAAC,UAAd,CAAyB,EAAE,CAAC,mBAA5B,CAAgD,iBAAe,MAA/D,CAAsE,iBAAe,eAArF,CAAqG,IAAI,CAAC,QAA1G,CAAmH,IAAI,CAAC,KAAxH,CAA8H,gBAAc,eAA5I,CAA4J,gBAAc,OAA1K,uBAAkL,oCAAO,mCAAP,EAAlL,EADF,EAPF,GAFF,cAeE,aAAK,KAAK,CAAC,aAAX,CAAyB,EAAE,CAAC,kBAA5B,wBACE,YAAK,KAAK,CAAC,2BAAX,CAAuC,EAAE,CAAC,YAA1C,CAAuD,IAAI,CAAC,UAA5D,CAAuE,kBAAgB,gBAAvF,UAEGL,OAAO,CAAC4B,MAAR,CAAiB5B,OAAO,CAAC6B,GAAR,CAAY,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAC7C,mBACE,sCACE,YAAK,KAAK,CAAC,WAAX,CAAuB,EAAE,CAAC,kBAA1B,uBACE,aAAK,KAAK,CAAC,gBAAX,wBACE,WAAI,KAAK,CAAC,kBAAV,CAA6B,EAAE,CAAC,YAAhC,uBACE,eAAQ,KAAK,CAAC,wDAAd,CAAuE,IAAI,CAAC,QAA5E,CAAqF,iBAAe,UAApG,CAA+G,gBAAc,MAA7H,CAAoI,gBAAc,aAAlJ,CAAgK,4BAAoBD,IAAI,CAACE,YAAL,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6BC,IAA7B,CAAkC,EAAlC,CAApB,CAAhK,uBACE,cAAO,SAAS,CAAC,iBAAjB,UAAoCJ,IAAI,CAACE,YAAzC,EADF,EADF,EADF,cAME,YAAK,EAAE,CAAEF,IAAI,CAACE,YAAL,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6BC,IAA7B,CAAkC,EAAlC,CAAT,CAAgD,KAAK,CAAC,8BAAtD,CAAqF,kBAAgB,YAArG,CAAkH,iBAAe,mBAAjI,uBACE,aAAK,KAAK,CAAC,kCAAX,wBAEE,YAAK,KAAK,CAAC,yCAAX,UACGJ,IAAI,CAACK,YAAL,CAAkBN,GAAlB,CAAsB,SAACL,KAAD,CAAQO,KAAR,CAAkB,CACvC,mBACE,wCACE,YAAK,KAAK,CAAC,OAAX,CAAmB,OAAO,CAAE,yBAAMR,CAAAA,SAAS,CAACC,KAAK,CAACY,SAAP,CAAf,EAA5B,uBAA8D,UAAG,KAAK,CAAC,aAAT,CAAuB,KAAK,CAAE,CAACT,KAAK,CAAC,SAAP,CAA9B,EAA9D,EADF,cAEE,YAAK,KAAK,CAAC,iBAAX,uBAAyC,cAAO,SAAS,CAAC,iBAAjB,UAAoCH,KAAK,CAACa,UAA1C,EAAzC,EAAkCN,KAAlC,CAFF,cAGE,YAAK,KAAK,CAAC,OAAX,uBAAmB,oCAAO,0BAASP,KAAK,CAACc,SAAf,OAAP,EAAnB,EAHF,GADF,CAOD,CARA,CADH,EAFF,CAcGR,IAAI,CAACS,WAAL,CAAiBX,MAAjB,cAA0B,aAAK,KAAK,CAAC,yCAAX,wBACzB,cAAO,KAAK,CAAE,CAAED,KAAK,CAAE,SAAT,CAAd,uBAAoC,uCAAQ,UAAG,KAAK,CAAC,aAAT,EAAR,kBAApC,EADyB,CAExBG,IAAI,CAACS,WAAL,CAAiBV,GAAjB,CAAqB,SAACW,IAAD,CAAOT,KAAP,CAAiB,CACrC,mBACE,sCAEE,YAAK,KAAK,CAAC,iBAAX,uBAAyC,eAAO,SAAS,CAAC,iBAAjB,yBAA+CA,KAAK,CAAC,CAArD,GAAzC,EAAkCA,KAAlC,CAFF,EADF,CAMD,CAPA,CAFwB,GAA1B,CAUQ,EAxBX,GADF,EANF,GADF,EAAkDA,KAAlD,CADF,EADF,CA0CD,CA3CiB,CAAjB,cA2CI,YAAK,KAAK,CAAC,gBAAX,uBAA4B,KAAC,QAAD,EAAU,KAAK,CAAE,CAAjB,EAA5B,EA7CP,EADF,cAiDE,YAAK,KAAK,CAAC,eAAX,CAA2B,EAAE,CAAC,eAA9B,CAA8C,IAAI,CAAC,UAAnD,CAA8D,kBAAgB,mBAA9E,uBACE,YAAK,KAAK,CAAC,qBAAX,uBACE,aAAK,KAAK,CAAC,gBAAX,wBACE,YAAK,KAAK,CAAC,uBAAX,uBACE,aAAK,KAAK,CAAC,uCAAX,qEAA0D,aAAM,KAAK,CAAC,SAAZ,uBAAsB,iCAAtB,EAA1D,cAA4G,aAAM,KAAK,CAAC,eAAZ,uBAA4B,gCAA5B,EAA5G,GADF,EADF,cAIE,YAAK,KAAK,CAAC,UAAX,uBACE,oCACE,YAAK,KAAK,CAAC,yCAAX,uBACE,sBAAK5B,KAAK,EAAI,CAAT,CAAa,IAAMA,KAAnB,CAAyB,CAA9B,OADF,EADF,cAIE,aAAK,KAAK,CAAC,sDAAX,wBAAkE,mCAAM,oCAAO,2CAAP,EAAN,EAAlE,cAA8H,aAAM,KAAK,CAAC,yCAAZ,uBAAsD,uBAAQA,KAAR,EAAtD,EAA9H,GAJF,GADF,EAJF,GADF,EADF,EAjDF,cAmEE,YAAK,KAAK,CAAC,eAAX,CAA2B,EAAE,CAAC,cAA9B,CAA6C,IAAI,CAAC,UAAlD,CAA6D,kBAAgB,mBAA7E,uBACE,KAAC,YAAD,EAAc,IAAI,CAAEN,IAApB,EADF,EAnEF,cAsEE,YAAK,SAAS,CAAC,kBAAf,uBACE,KAAC,IAAD,EAAM,EAAE,gEAA0DA,IAA1D,CAAR,CAA0E,KAAK,CAAE,CAAE8B,KAAK,CAAE,SAAT,CAAjF,uBAAuG,oCAAO,uCAAQ,UAAG,KAAK,CAAC,kBAAT,CAA4B,KAAK,CAAE,CAAEA,KAAK,CAAE,SAAT,CAAnC,EAAR,oBAAP,EAAvG,EADF,EAtEF,GAfF,GAbF,GAFF,GADF,EADF,CA+GD,CAlJD,CAoJA,cAAejC,CAAAA,YAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport { Link } from 'react-router-dom';\r\nimport { useParams } from 'react-router'\r\nimport axios from 'axios';\r\nimport { Baseurl, Mediaurl } from '../../baseurl';\r\nimport { useHistory } from 'react-router';\r\nimport { useLocation } from 'react-router';\r\nimport CourseReview from '../../landing_page/course_review';\r\nimport ReactPlayer from 'react-player';\r\n\r\n\r\n\r\n\r\n\r\nconst TutorPreview = () => {\r\n  document.title = 'Fromhome | Tutor Preview'\r\n  const { code } = useParams();\r\n  const history = useHistory();\r\n  const path = useLocation()\r\n  const [section, setSection] = useState([])\r\n  const [title, setTitle] = useState('')\r\n  const [stats, setStats] = useState('')\r\n  const [videoUrl, setvideoUrl] = useState('');\r\n\r\n  useEffect(() => {\r\n    let token = sessionStorage.Token\r\n    if (token) {\r\n      axios.get(`${Baseurl}tutorpreview`, {\r\n        params: { code: code, token: token }\r\n      }).then((res) => {\r\n        if (res.data) {\r\n          setSection(res.data.sections)\r\n          setTitle(res.data.title)\r\n          setStats(res.data.stats)\r\n        }\r\n      }).catch((error) => {\r\n        if (error.response.status === 500) {\r\n          sessionStorage.setItem('Path', path.pathname)\r\n          history.push('/login')\r\n        }\r\n      })\r\n    }\r\n\r\n  }, [])\r\n\r\n  const playVideo = (video) => {\r\n    setvideoUrl(video)\r\n    console.log(Mediaurl + videoUrl)\r\n  }\r\n  return (\r\n    <>\r\n      <section class=\"container-fluid mt-2\">\r\n        <small className='text-capitalize'><strong>📺 {title ? title : <i class=\"fas fa-spinner fa-spin\" style={{ color: '#0D826E' }}></i>}</strong></small>\r\n        <div class=\"row mx-auto\">\r\n          <div class=\"col-md-8 align-items-center vid-cont mt-2\" data-aos=\"fade-in\">\r\n\r\n          <ReactPlayer\r\n              className='react-player'\r\n              url={Mediaurl + videoUrl}\r\n              width='100%'\r\n              height='100%'\r\n              controls={true}\r\n              playing={true}\r\n              playsinline={true}\r\n            />\r\n          </div>\r\n          <div class=\"col-md-4  mt-3 px-0 accord-section\" data-aos=\"fade-in\">\r\n            <small><strong>📚 Tutor Preview</strong></small>\r\n            <ul class=\"nav nav-pills p-2  justify-content-center\" id=\"pills-tab\" role=\"tablist\">\r\n              <li class=\"nav-item\" role=\"presentation\">\r\n                <button class=\"nav-link active\" id=\"pills-home-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-home\" type=\"button\" role=\"tab\" aria-controls=\"pills-home\" aria-selected=\"true\"><small><strong>Sections</strong></small></button>\r\n              </li>\r\n              <li class=\"nav-item\" role=\"presentation\">\r\n                <button class=\"nav-link\" id=\"pills-profile-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-profile\" type=\"button\" role=\"tab\" aria-controls=\"pills-profile\" aria-selected=\"false\"><small><strong>Stats</strong></small></button>\r\n              </li>\r\n              <li class=\"nav-item\" role=\"presentation\">\r\n                <button class=\"nav-link\" id=\"pills-profile-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-review\" type=\"button\" role=\"tab\" aria-controls=\"pills-profile\" aria-selected=\"false\"><small><strong>Reviews</strong></small></button>\r\n              </li>\r\n            </ul>\r\n\r\n\r\n            <div class=\"tab-content\" id=\"pills-tabContent\">\r\n              <div class=\"tab-pane fade show active\" id=\"pills-home\" role=\"tabpanel\" aria-labelledby=\"pills-home-tab\">\r\n\r\n                {section.length ? section.map((item, index) => {\r\n                  return (\r\n                    <>\r\n                      <div class=\"accordion\" id=\"accordionExample\" key={index}>\r\n                        <div class=\"accordion-item\">\r\n                          <h2 class=\"accordion-header\" id=\"headingOne\">\r\n                            <button class=\"accordion-button fw-bold text-white border-0 rounded-0\" type=\"button\" data-bs-toggle=\"collapse\" aria-expanded=\"true\" aria-controls=\"collapseOne\" data-bs-target={`#${item.section_name.split(\" \").join(\"\")}`}>\r\n                              <small className='text-capitalize'>{item.section_name}</small>\r\n                            </button>\r\n                          </h2>\r\n                          <div id={item.section_name.split(\" \").join(\"\")} class=\"accordion-collapse  collapse\" aria-labelledby=\"headingOne\" data-bs-parent=\"#accordionExample\">\r\n                            <div class=\"accordion-body bg-secondary py-0\">\r\n                              {/* videos */}\r\n                              <div class=\"row align-items-center course-part py-2\">\r\n                                {item.no_of_videos.map((video, index) => {\r\n                                  return (\r\n                                    <>\r\n                                      <div class=\"col-2\" onClick={() => playVideo(video.video_url)}><i class=\"fad fa-play\" style={{color:'#071B4D'}}></i></div>\r\n                                      <div class=\"col-7 text-wrap\" key={index}><small className='text-capitalize'>{video.video_name}</small></div>\r\n                                      <div class=\"col-3\"><small><strong>{video.play_time}m</strong></small></div>\r\n                                    </>\r\n                                  )\r\n                                })}\r\n                              </div>\r\n                              {/* attachements */}\r\n                              {item.no_of_files.length ? <div class=\"row align-items-center course-part py-2\">\r\n                                <small style={{ color: '#0D826E' }}><strong><i class=\"fad fa-link\"></i> Attachments</strong></small>\r\n                                {item.no_of_files.map((file, index) => {\r\n                                  return (\r\n                                    <>\r\n                                      \r\n                                      <div class=\"col-7 text-wrap\" key={index}><small className='text-capitalize'>Attachment {index+1}</small></div>\r\n                                    </>\r\n                                  )\r\n                                })}\r\n                              </div> : ''}\r\n\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  )\r\n                }) : <div class=\"accordion mt-2\"><Skeleton count={3} /></div>}\r\n\r\n              </div>\r\n              <div class=\"tab-pane fade\" id=\"pills-profile\" role=\"tabpanel\" aria-labelledby=\"pills-profile-tab\">\r\n                <div class=\"coupon p-3 bg-white\">\r\n                  <div class=\"row no-gutters\">\r\n                    <div class=\"col-md-4 border-right\">\r\n                      <div class=\"d-flex flex-column align-items-center\">🧑🏽‍🎓<span class=\"d-block\"><small>Course</small></span><span class=\"text-black-50\"><small>Stats</small></span></div>\r\n                    </div>\r\n                    <div class=\"col-md-8\">\r\n                      <div>\r\n                        <div class=\"d-flex flex-row justify-content-end off\">\r\n                          <h1>{stats >= 1 ? 100 / stats:0}%</h1>\r\n                        </div>\r\n                        <div class=\"d-flex flex-row justify-content-between off px-3 p-2\"><span><small><strong>No of Students:</strong></small></span><span class=\"border border-success px-3 rounded code\"><small>{stats}</small></span></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"tab-pane fade\" id=\"pills-review\" role=\"tabpanel\" aria-labelledby=\"pills-profile-tab\">\r\n                <CourseReview code={code} />\r\n              </div>\r\n              <div className='text-center mt-3'>\r\n                <Link to={`/dashboard/created-courses/manage/edit-basic-details/${code}`} style={{ color: '#071B4D' }}><small><strong><i class=\"fad fa-tasks-alt\" style={{ color: '#0D826E' }}></i> Manage Course</strong></small></Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TutorPreview\r\n"]},"metadata":{},"sourceType":"module"}