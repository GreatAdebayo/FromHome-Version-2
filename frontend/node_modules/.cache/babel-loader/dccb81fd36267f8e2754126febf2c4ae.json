{"ast":null,"code":"import _toConsumableArray from\"C:/xampp/htdocs/FROMHOME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/xampp/htdocs/FROMHOME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Formik,Form,Field,ErrorMessage}from'formik';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import axios from'axios';import{Baseurl}from'../../../baseurl';import{useHistory}from'react-router';import{useLocation}from'react-router';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Sections=function Sections(){var path=useLocation();var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),formikPersist=_useState2[0],setFormikPersist=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sectionArray=_useState4[0],setSectionArray=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showloader=_useState6[0],setShowloader=_useState6[1];useEffect(function(){var getCourse=JSON.parse(localStorage.getItem('course'));if(getCourse){setFormikPersist(getCourse);var section=getCourse.values.sections;if(section){setSectionArray(section);}else{setSectionArray([]);}}else{setFormikPersist({});}},[]);var deleteSection=function deleteSection(i){var newSection=_toConsumableArray(sectionArray);newSection.splice(i,1);setSectionArray(newSection);var newForm=formikPersist;newForm.values.sections=newSection;localStorage.setItem('course',JSON.stringify(newForm));toast(\"ðŸ‘ Section Deleted!\",{autoClose:2000});};var uploadCourse=function uploadCourse(){setShowloader(true);var values=formikPersist.values;if(values){if(values.category&&values.desc&&values.title&&values.sections.length){var token=sessionStorage.Token;values.token=token;axios.post(\"\".concat(Baseurl,\"postcourse\"),values).then(function(res){if(res.data){if(res.data==='pending'){setShowloader(false);toast(\"âœ‹  You have a Pending Course, Please Add Files!\",{autoClose:2000});setTimeout(function(){return history.push('/dashboard/create-a-course/videos');},2000);}else{setShowloader(false);toast(\"ðŸ‘ Succesfully Uploaded, Add Course Videos!\",{autoClose:2000});localStorage.setItem('code',res.data);localStorage.removeItem('course');setTimeout(function(){return history.push('/dashboard/create-a-course/videos');},2000);}}}).catch(function(error){if(error){if(error.response.status===500){setShowloader(false);toast(\"âœ‹  Please Login to continue!\",{autoClose:2000});history.push('/login');sessionStorage.setItem('Path',path.pathname);}}});}else{setShowloader(false);toast(\"âœ‹  Please fill all basic course details!\",{autoClose:2000});setTimeout(function(){return history.goBack();},2000);}}else{setShowloader(false);toast(\"âœ‹  No course found!\",{autoClose:2000});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{className:\"about container-fluid mt-3\",id:\"about\",children:[/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(ToastContainer,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-9 col-sm mx-auto\",\"data-aos\":\"fade-in\",\"data-aos-delay\":\"100\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"login-card\",style:{borderRadius:'10px'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCDA\",/*#__PURE__*/_jsx(\"strong\",{children:\"Stage 2:\"}),\" Course Sections\"]}),/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"*Add all course sections\"})}),/*#__PURE__*/_jsx(Formik,{initialValues:{section:''},validate:function validate(values){var errors={};if(!values.section){errors.section='*Section name is required';}return errors;},onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;if(formikPersist){if(formikPersist.values.category&&formikPersist.values.desc&&formikPersist.values.title){sectionArray.push(values);setSectionArray(sectionArray);localStorage.setItem('course',JSON.stringify(formikPersist));toast(\"ðŸ‘ Section Added!\",{autoClose:2000});}else{toast(\"âœ‹  Please fill in course basic details!\",{autoClose:2000});setTimeout(function(){return history.goBack();},2000);}}setSubmitting(false);},children:function children(_ref2){var isSubmitting=_ref2.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[sectionArray.length?/*#__PURE__*/_jsx(\"div\",{class:\"row-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:sectionArray.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-sm-5 mx-auto py-2 text-center\",children:[/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fad fa-trash-alt text-danger\",onClick:function onClick(){return deleteSection(index);}}),\" Section \",index+1]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2 py-1 text-light section-loop\",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-capitalize\",children:item.section})})]});})})}):'',/*#__PURE__*/_jsxs(\"div\",{class:\"row-1\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{id:\"login-card-inner\",children:\"Section Names\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(Field,{type:\"text\",placeholder:\"Type in section names\",name:\"section\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"section\",component:\"small\",className:\"text-danger\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"border-0 bg-transparent outline-0\",style:{color:'#0D826E',cursor:'pointer'},type:\"submit\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fad fa-plus-square\",style:{color:'#071B4D'}}),/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\" Click to Add Section\"})})]})]});}}),/*#__PURE__*/_jsx(\"button\",{class:\"btn d-flex mx-auto\",type:\"submit\",onClick:uploadCourse,children:/*#__PURE__*/_jsxs(\"b\",{children:[showloader?/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\"}):'',\" \",/*#__PURE__*/_jsx(\"small\",{children:\"Upload Course and Proceed\"})]})}),/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:\"*Cross-check before you upload course\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard/create-a-course/basic-details\",style:{cursor:'pointer'},children:/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fal fa-long-arrow-left\",style:{color:'#0D826E'}}),\" Edit Previous Stage \"]})})})]})})})]})});};export default Sections;","map":{"version":3,"sources":["C:/xampp/htdocs/FROMHOME/frontend/src/components/dashboard/tutor/create_course/sections.js"],"names":["React","useState","useEffect","Formik","Form","Field","ErrorMessage","ToastContainer","toast","axios","Baseurl","useHistory","useLocation","Link","Sections","path","history","formikPersist","setFormikPersist","sectionArray","setSectionArray","showloader","setShowloader","getCourse","JSON","parse","localStorage","getItem","section","values","sections","deleteSection","i","newSection","splice","newForm","setItem","stringify","autoClose","uploadCourse","category","desc","title","length","token","sessionStorage","Token","post","then","res","data","setTimeout","push","removeItem","catch","error","response","status","pathname","goBack","borderRadius","errors","setSubmitting","isSubmitting","map","item","index","color","cursor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport { Baseurl } from '../../../baseurl';\r\nimport { useHistory } from 'react-router';\r\nimport { useLocation } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\nconst Sections = () => {\r\n    const path = useLocation();\r\n    const history = useHistory()\r\n    const [formikPersist, setFormikPersist] = useState({})\r\n    const [sectionArray, setSectionArray] = useState([])\r\n    const [showloader, setShowloader] = useState(false)\r\n\r\n    useEffect(() => {\r\n        let getCourse = JSON.parse(localStorage.getItem('course'))\r\n        if (getCourse) {\r\n            setFormikPersist(getCourse)\r\n\r\n            let section = getCourse.values.sections\r\n            if (section) {\r\n                setSectionArray(section)\r\n            } else {\r\n                setSectionArray([])\r\n            }\r\n\r\n        } else {\r\n            setFormikPersist({})\r\n\r\n        }\r\n\r\n    }, [])\r\n\r\n\r\n    const deleteSection = (i) => {\r\n        const newSection = [...sectionArray]\r\n        newSection.splice(i, 1);\r\n        setSectionArray(newSection)\r\n        let newForm = formikPersist\r\n        newForm.values.sections = newSection\r\n        localStorage.setItem('course', JSON.stringify(newForm))\r\n        toast(\"ðŸ‘ Section Deleted!\", {\r\n            autoClose: 2000,\r\n        })\r\n\r\n    }\r\n\r\n    const uploadCourse = () => {\r\n        setShowloader(true)\r\n        let values = formikPersist.values\r\n        if (values) {\r\n            if (values.category && values.desc && values.title && values.sections.length) {\r\n                let token = sessionStorage.Token\r\n                values.token = token\r\n                axios.post(`${Baseurl}postcourse`, values).then((res) => {\r\n                    if (res.data) {\r\n                        if (res.data === 'pending') {\r\n                            setShowloader(false)\r\n                            toast(\"âœ‹  You have a Pending Course, Please Add Files!\", {\r\n                                autoClose: 2000,\r\n                            })\r\n                            setTimeout(() => history.push('/dashboard/create-a-course/videos'), 2000)\r\n                        } else {\r\n                            setShowloader(false)\r\n                            toast(\"ðŸ‘ Succesfully Uploaded, Add Course Videos!\", {\r\n                                autoClose: 2000,\r\n                            })\r\n                            localStorage.setItem('code', res.data)\r\n                            localStorage.removeItem('course')\r\n                            setTimeout(() => history.push('/dashboard/create-a-course/videos'), 2000)\r\n                        }\r\n                    }\r\n                }).catch((error) => {\r\n                    if (error) {\r\n                        if (error.response.status === 500) {\r\n                            setShowloader(false)\r\n                            toast(\"âœ‹  Please Login to continue!\", {\r\n                                autoClose: 2000,\r\n                            })\r\n                            history.push('/login')\r\n                            sessionStorage.setItem('Path', path.pathname)\r\n                        }\r\n                    }\r\n                })\r\n\r\n            } else {\r\n                setShowloader(false)\r\n                toast(\"âœ‹  Please fill all basic course details!\", {\r\n                    autoClose: 2000,\r\n                })\r\n                setTimeout(() => history.goBack(), 2000)\r\n            }\r\n        } else {\r\n            setShowloader(false)\r\n            toast(\"âœ‹  No course found!\", {\r\n                autoClose: 2000,\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <section className=\"about container-fluid mt-3\" id=\"about\">\r\n                <small><ToastContainer /></small>\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-9 col-sm mx-auto\" data-aos=\"fade-in\" data-aos-delay=\"100\">\r\n                        <div class=\"login-card\" style={{ borderRadius: '10px' }}>\r\n                            \r\n                            <p>ðŸ“š<strong>Stage 2:</strong> Course Sections</p>\r\n                            <small><strong>*Add all course sections</strong></small>\r\n                            <Formik\r\n                                initialValues={{ section: '' }}\r\n                                validate={values => {\r\n                                    const errors = {};\r\n                                    if (!values.section) {\r\n                                        errors.section = '*Section name is required';\r\n                                    }\r\n                                    return errors;\r\n                                }}\r\n                                onSubmit={(values, { setSubmitting }) => {\r\n                                    if (formikPersist) {\r\n                                        if (formikPersist.values.category && formikPersist.values.desc && formikPersist.values.title) {\r\n                                            sectionArray.push(values)\r\n                                            setSectionArray(sectionArray)\r\n                                            localStorage.setItem('course', JSON.stringify(formikPersist))\r\n                                            toast(\"ðŸ‘ Section Added!\", {\r\n                                                autoClose: 2000,\r\n                                            })\r\n                                        } else {\r\n                                            toast(\"âœ‹  Please fill in course basic details!\", {\r\n                                                autoClose: 2000,\r\n                                            })\r\n                                            setTimeout(() => history.goBack(), 2000)\r\n                                        }\r\n                                    }\r\n                                    setSubmitting(false);\r\n                                }}\r\n                            >\r\n                                {({ isSubmitting }) => (\r\n\r\n                                    <Form>\r\n\r\n                                        {sectionArray.length ? <div class=\"row-1\">\r\n                                            <div className='row'>\r\n\r\n                                                {sectionArray.map((item, index) => {\r\n                                                    return (\r\n\r\n                                                        <div className='col-md-6 col-sm-5 mx-auto py-2 text-center'>\r\n                                                            <small><strong><i class=\"fad fa-trash-alt text-danger\" onClick={() => deleteSection(index)}></i> Section {index + 1}</strong></small>\r\n                                                            <div className='mb-2 py-1 text-light section-loop'>\r\n                                                                <small className='text-capitalize'>{item.section}</small>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    )\r\n                                                })}\r\n                                            </div>\r\n                                        </div> : ''}\r\n                                        <div class=\"row-1\">\r\n                                            <div class=\"row row-2\"> <span id=\"login-card-inner\">Section Names</span> </div>\r\n                                            <div class=\"row row-2\"> <Field type=\"text\" placeholder=\"Type in section names\" name=\"section\" />\r\n                                                <ErrorMessage name=\"section\" component=\"small\" className='text-danger' />\r\n                                            </div>\r\n                                        </div>\r\n                                        <button className='border-0 bg-transparent outline-0' style={{ color: '#0D826E', cursor: 'pointer' }} type=\"submit\" ><i class=\"fad fa-plus-square\" style={{ color: '#071B4D' }}></i><small><strong> Click to Add Section</strong></small></button>\r\n                                    </Form>\r\n                                )}\r\n                            </Formik>\r\n\r\n                            <button class=\"btn d-flex mx-auto\" type=\"submit\" onClick={uploadCourse}><b>{showloader ? <i class=\"fas fa-spinner fa-spin\"></i> : ''} <small>Upload Course and Proceed</small></b></button>\r\n                            <small className='text-danger'>*Cross-check before you upload course</small><br />\r\n\r\n                            <Link to='/dashboard/create-a-course/basic-details' style={{ cursor: 'pointer' }}><strong><small><i class=\"fal fa-long-arrow-left\" style={{ color: '#0D826E' }}></i> Edit Previous Stage </small></strong></Link>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Sections"]},"metadata":{},"sourceType":"module"}