{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/FROMHOME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useState,useEffect}from'react';import Skeleton from'react-loading-skeleton';import{Link}from'react-router-dom';import{Baseurl}from'../../baseurl';import{useLocation}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Purchases=function Purchases(){var path=useLocation();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),details=_useState2[0],setDetails=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFetching=_useState4[0],setFecthing=_useState4[1];useEffect(function(){setFecthing(true);var token=sessionStorage.Token;axios.get(\"\".concat(Baseurl,\"transactions\"),{headers:{'Authorization':'Bearer'+token}}).then(function(res){setFecthing(false);if(res.data){setDetails(res.data);}}).catch(function(error){setFecthing(false);if(error.response.status===500){sessionStorage.setItem('Path',path.pathname);}});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{className:\"about container-fluid mt-4\",id:\"about\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:isFetching?/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 col-sm mx-auto pt-2\",children:/*#__PURE__*/_jsx(Skeleton,{count:4})}):/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",details.length?/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 col-sm mx-auto pt-2\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"container  px-2\",children:[/*#__PURE__*/_jsx(\"small\",{style:{color:'#0D826E'},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Purchase History\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"table-responsive mt-2\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table table-responsive table-borderless\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{class:\"bg-light\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",width:\"5%\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",width:\"20%\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Category\"})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",width:\"10%\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Course\"})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",width:\"20%\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Amount\"})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",width:\"20%\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Status\"})})]})}),details.map(function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"small\",{children:index+1})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"small\",{children:item.category})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"small\",{children:item.course_title})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"small\",{children:item.amount})}),/*#__PURE__*/_jsx(\"td\",{className:item.state==='pending'?' text-danger text-capitalize':item.state==='paid'?'text-primary text-capitalize':'',children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"strong\",{children:item.state})})})]})},index)});})]})})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-sm mx-auto text-center\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"You have no purchase history\"}),/*#__PURE__*/_jsx(\"i\",{class:\"fad fa-shopping-cart fa-3x text-danger\"}),/*#__PURE__*/_jsx(Link,{to:\"/available-courses\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn d-flex mx-auto\",type:\"submit\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Buy a Course\"})})})]}),\" \"]})})})});};export default Purchases;","map":{"version":3,"sources":["C:/xampp/htdocs/FROMHOME/frontend/src/components/dashboard/student/purchases.js"],"names":["axios","React","useState","useEffect","Skeleton","Link","Baseurl","useLocation","Purchases","path","details","setDetails","isFetching","setFecthing","token","sessionStorage","Token","get","headers","then","res","data","catch","error","response","status","setItem","pathname","length","color","map","item","index","category","course_title","amount","state"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React, { useState, useEffect } from 'react'\r\nimport Skeleton from 'react-loading-skeleton'\r\nimport { Link } from 'react-router-dom'\r\nimport { Baseurl } from '../../baseurl'\r\nimport { useLocation } from 'react-router'\r\n\r\n\r\n\r\nconst Purchases = () => {\r\n    let path = useLocation()\r\n    const [details, setDetails] = useState([])\r\n    const [isFetching, setFecthing] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setFecthing(true)\r\n        let token = sessionStorage.Token\r\n        axios.get(`${Baseurl}transactions`, {\r\n            headers: {\r\n                'Authorization': 'Bearer' + token\r\n            }\r\n        }).then((res) => {\r\n            setFecthing(false)\r\n            if (res.data) {\r\n                setDetails(res.data)\r\n            }\r\n        }).catch((error) => {\r\n            setFecthing(false)\r\n            if (error.response.status === 500) {\r\n                sessionStorage.setItem('Path', path.pathname)\r\n            }\r\n        })\r\n\r\n    }, [])\r\n    return (\r\n        <>\r\n            <section className=\"about container-fluid mt-4\" id=\"about\">\r\n                <div className='row'>\r\n\r\n                    {isFetching ? <div className='col-md-8 col-sm mx-auto pt-2'>\r\n                     <Skeleton count={4} />\r\n                    </div> : <> {details.length ? <div className='col-md-8 col-sm mx-auto pt-2'>\r\n                        <div class=\"container  px-2\">\r\n                            <small style={{ color: '#0D826E' }}><strong>Purchase History</strong></small>\r\n                            <div class=\"table-responsive mt-2\">\r\n                                <table class=\"table table-responsive table-borderless\">\r\n                                    <thead>\r\n                                        <tr class=\"bg-light\">\r\n                                            <th scope=\"col\" width=\"5%\">#</th>\r\n                                            <th scope=\"col\" width=\"20%\"><small>Category</small></th>\r\n                                            <th scope=\"col\" width=\"10%\"><small>Course</small></th>\r\n                                            <th scope=\"col\" width=\"20%\"><small>Amount</small></th>\r\n                                            <th scope=\"col\" width=\"20%\"><small>Status</small></th>\r\n\r\n                                        </tr>\r\n                                    </thead>\r\n                                    {details.map((item, index) => {\r\n                                        return (\r\n                                            <>\r\n                                                <tbody key={index}>\r\n                                                    <tr>\r\n                                                        <td><small>{index + 1}</small></td>\r\n                                                        <td><small>{item.category}</small></td>\r\n                                                        <td><small>{item.course_title}</small></td>\r\n                                                        <td><small>{item.amount}</small></td>\r\n                                                        <td className={item.state === 'pending' ? ' text-danger text-capitalize' : item.state === 'paid' ? 'text-primary text-capitalize' : ''}><small><strong>{item.state}</strong></small></td>\r\n\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                            </>\r\n                                        )\r\n                                    })}\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div> : <div className='col-md-6 col-sm mx-auto text-center'>\r\n                        <h5>You have no purchase history</h5>\r\n                        <i class=\"fad fa-shopping-cart fa-3x text-danger\"></i>\r\n                        <Link to='/available-courses'><button class=\"btn d-flex mx-auto\" type=\"submit\" ><b>Buy a Course</b></button></Link>\r\n                    </div>} </>}\r\n\r\n                </div>\r\n\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Purchases\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}