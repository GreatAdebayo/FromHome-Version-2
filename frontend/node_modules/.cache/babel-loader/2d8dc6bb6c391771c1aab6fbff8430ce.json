{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/FROMHOME/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Formik,Form,Field,ErrorMessage}from'formik';import axios from'axios';import{Baseurl}from'../baseurl';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{codes}from'./bank_codes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Settings=function Settings(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),accName=_useState2[0],setAccName=_useState2[1];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"page-content page-container mx-auto mb-5\",id:\"page-content\",style:{marginTop:'80px'},children:[/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(ToastContainer,{})}),/*#__PURE__*/_jsx(\"div\",{class:\"row container d-flex justify-content-center mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{class:\"profile-card user-card-full\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-md-8 mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card-block\",children:[/*#__PURE__*/_jsxs(\"h6\",{class:\"m-b-20 p-b-5 b-b-default f-w-600\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fad fa-info-square\",style:{color:'#071B4D'}}),\" Basic Information\"]}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(Formik,{initialValues:{phone:'234'},validate:function validate(values){var errors={};if(!values.phone){errors.phone='*Phone Number Required';}else if(Math.ceil(Math.log10(values.phone))<13){errors.phone='*Phone Number Should be 11 digits';}else if(Math.ceil(Math.log10(values.phone))>13){errors.phone='*Phone Number Should be 11 digits';}return errors;},onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;setTimeout(function(){var token=sessionStorage.Token;axios.post(\"\".concat(Baseurl,\"updateprofile\"),values,{headers:{'Authorization':'Bearer'+token}}).then(function(res){setSubmitting(false);if(res.data==='phoneexists'){toast(\"\\u270B You have a number already\",{autoClose:2000});}else if(res.data==='updated'){toast(\"\\uD83D\\uDC4D Successfully Updated\",{autoClose:2000});}}).catch(function(error){if(error.response.status===422){setSubmitting(false);toast(\"✋ Phone Number already taken!\",{autoClose:2000});}});},400);},children:function children(_ref2){var isSubmitting=_ref2.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row-1\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{id:\"login-card-inner\",children:\"Phone Number\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(Field,{type:\"number\",placeholder:\"Phone Number\",name:\"phone\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"phone\",component:\"small\",className:\"text-danger\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{class:\"btn d-flex mx-auto mb-2\",type:\"submit\",disabled:isSubmitting,children:/*#__PURE__*/_jsxs(\"b\",{children:[isSubmitting?/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\"}):'',\" Update\"]})})]});}})}),/*#__PURE__*/_jsxs(\"h6\",{class:\"m-b-20 m-t-40 p-b-5 b-b-default f-w-600\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-university\",style:{color:'#071B4D'}}),\" Bank Details\"]}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(Formik,{initialValues:{acc_no:'',bankCode:'',pin:''},validate:function validate(values){var errors={};if(!values.bankCode){errors.bankCode='*Bank Name Required';}else if(!values.acc_no){errors.acc_no='*Account Number Required';}else if(Math.ceil(Math.log10(values.pin+1))<4){errors.pin='*Code is 4-digit';}else if(Math.ceil(Math.log10(values.pin+1))>4){errors.pin='*Code is 4-digit';}else if(!values.pin){errors.pin='*PIN Required';}return errors;},onSubmit:function onSubmit(values,_ref3){var setSubmitting=_ref3.setSubmitting;setTimeout(function(){var token=sessionStorage.Token;axios.post(\"\".concat(Baseurl,\"updatebank\"),values,{headers:{'Authorization':'Bearer'+token}}).then(function(res){setSubmitting(false);if(res.data){if(res.data.exists){toast(\"\\u270B You have a bank info already\",{autoClose:2000});}else if(res.data.name){setAccName(res.data.name);toast(\"\\uD83D\\uDC4D Account Number Added\",{autoClose:2000});}else if(res.data.invalid){toast(\"\\u270B Account Number Invalid\",{autoClose:2000});}else if(res.data.error){toast(\"\\u270B Network Error. Try Again!\",{autoClose:2000});}}}).catch(function(error){if(error.response.status===422){setSubmitting(false);toast(\"✋ Account Number already used!\",{autoClose:2000});}});},400);},children:function children(_ref4){var isSubmitting=_ref4.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row-1\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{id:\"login-card-inner\",children:\"Bank Name\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[/*#__PURE__*/_jsxs(Field,{as:\"select\",name:\"bankCode\",class:\"form-select form-select-sm mt-1\",\"aria-label\":\".form-select-sm example\",children:[/*#__PURE__*/_jsx(\"option\",{selected:true,children:\"Choose your bank\"}),codes.map(function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"option\",{value:item.code,children:item.name},index)});})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"bankCode\",component:\"small\",className:\"text-danger\"}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row-1\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{id:\"login-card-inner\",children:\"Account Number\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(Field,{type:\"text\",placeholder:\"Your Account Number\",name:\"acc_no\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"acc_no\",component:\"small\",className:\"text-danger\"}),\" \"]}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#071B4D'},children:/*#__PURE__*/_jsx(\"strong\",{children:accName})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row-1\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{id:\"login-card-inner\",children:\"Transaction Pin\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row row-2\",children:[\" \",/*#__PURE__*/_jsx(Field,{type:\"number\",placeholder:\"4-digit Pin\",name:\"pin\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"pin\",component:\"small\",className:\"text-danger\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{class:\"btn d-flex mx-auto mb-2\",type:\"submit\",disabled:isSubmitting,children:/*#__PURE__*/_jsxs(\"b\",{children:[isSubmitting?/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-spinner fa-spin\"}):'',\" Add Bank\"]})})]});}})})]})})})})]})});};export default Settings;","map":{"version":3,"sources":["C:/xampp/htdocs/FROMHOME/frontend/src/components/dashboard/settings.js"],"names":["React","useState","Formik","Form","Field","ErrorMessage","axios","Baseurl","ToastContainer","toast","codes","Settings","accName","setAccName","marginTop","color","phone","values","errors","Math","ceil","log10","setSubmitting","setTimeout","token","sessionStorage","Token","post","headers","then","res","data","autoClose","catch","error","response","status","isSubmitting","acc_no","bankCode","pin","exists","name","invalid","map","item","index","code"],"mappings":"wJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,KAAvB,CAA8BC,YAA9B,KAAkD,QAAlD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,YAAxB,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAO,uCAAP,CACA,OAASC,KAAT,KAAsB,cAAtB,C,6IAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,cAA8BV,QAAQ,CAAC,EAAD,CAAtC,wCAAOW,OAAP,eAAgBC,UAAhB,eACA,mBACI,sCACI,aAAK,KAAK,CAAC,0CAAX,CAAsD,EAAE,CAAC,cAAzD,CAAwE,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAb,CAA/E,wBACI,oCAAO,KAAC,cAAD,IAAP,EADJ,cAEI,YAAK,KAAK,CAAC,qDAAX,uBACI,YAAK,KAAK,CAAC,6BAAX,uBACI,YAAK,KAAK,CAAC,kBAAX,uBACI,aAAK,KAAK,CAAC,YAAX,wBACI,YAAI,KAAK,CAAC,kCAAV,wBAA6C,UAAG,KAAK,CAAC,oBAAT,CAA8B,KAAK,CAAE,CAACC,KAAK,CAAC,SAAP,CAArC,EAA7C,wBADJ,cAEI,YAAK,KAAK,CAAC,KAAX,uBAEI,KAAC,MAAD,EACI,aAAa,CAAE,CAAEC,KAAK,CAAE,KAAT,CADnB,CAEI,QAAQ,CAAE,kBAAAC,MAAM,CAAI,CAChB,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACA,GAAI,CAACD,MAAM,CAACD,KAAZ,CAAmB,CACfE,MAAM,CAACF,KAAP,CAAe,wBAAf,CACH,CAFD,IAEO,IAAIG,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,KAAL,CAAWJ,MAAM,CAACD,KAAlB,CAAV,EAAsC,EAA1C,CAA8C,CACjDE,MAAM,CAACF,KAAP,CAAe,mCAAf,CACH,CAFM,IAEA,IAAIG,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,KAAL,CAAWJ,MAAM,CAACD,KAAlB,CAAV,EAAsC,EAA1C,CAA8C,CACjDE,MAAM,CAACF,KAAP,CAAe,mCAAf,CACH,CAED,MAAOE,CAAAA,MAAP,CACH,CAbL,CAcI,QAAQ,CAAE,kBAACD,MAAD,MAA+B,IAApBK,CAAAA,aAAoB,MAApBA,aAAoB,CACrCC,UAAU,CAAC,UAAM,CACb,GAAIC,CAAAA,KAAK,CAAGC,cAAc,CAACC,KAA3B,CACApB,KAAK,CAACqB,IAAN,WAAcpB,OAAd,kBAAsCU,MAAtC,CAA8C,CAC1CW,OAAO,CAAE,CACL,gBAAiB,SAAWJ,KADvB,CADiC,CAA9C,EAIGK,IAJH,CAIQ,SAACC,GAAD,CAAS,CACbR,aAAa,CAAC,KAAD,CAAb,CACA,GAAIQ,GAAG,CAACC,IAAJ,GAAa,aAAjB,CAAgC,CAC5BtB,KAAK,oCAAgC,CACjCuB,SAAS,CAAE,IADsB,CAAhC,CAAL,CAGH,CAJD,IAIO,IAAIF,GAAG,CAACC,IAAJ,GAAa,SAAjB,CAA4B,CAC/BtB,KAAK,qCAA4B,CAC7BuB,SAAS,CAAE,IADkB,CAA5B,CAAL,CAGH,CACJ,CAfD,EAeGC,KAfH,CAeS,SAACC,KAAD,CAAW,CAChB,GAAIA,KAAK,CAACC,QAAN,CAAeC,MAAf,GAA0B,GAA9B,CAAmC,CAC/Bd,aAAa,CAAC,KAAD,CAAb,CACAb,KAAK,CAAC,+BAAD,CAAkC,CACnCuB,SAAS,CAAE,IADwB,CAAlC,CAAL,CAGH,CACJ,CAtBD,EAwBH,CA1BS,CA0BP,GA1BO,CAAV,CA2BH,CA1CL,UA4CK,4BAAGK,CAAAA,YAAH,OAAGA,YAAH,oBAEG,MAAC,IAAD,yBACI,aAAK,KAAK,CAAC,OAAX,wBACI,aAAK,KAAK,CAAC,WAAX,4BAAwB,aAAM,EAAE,CAAC,kBAAT,0BAAxB,OADJ,cAEI,aAAK,KAAK,CAAC,WAAX,4BAAwB,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAC,cAAjC,CAAgD,IAAI,CAAC,OAArD,EAAxB,cACI,KAAC,YAAD,EAAc,IAAI,CAAC,OAAnB,CAA2B,SAAS,CAAC,OAArC,CAA6C,SAAS,CAAC,aAAvD,EADJ,OAFJ,GADJ,cAMI,eAAQ,KAAK,CAAC,yBAAd,CAAwC,IAAI,CAAC,QAA7C,CAAsD,QAAQ,CAAEA,YAAhE,uBAA8E,qBAAIA,YAAY,cAAG,UAAG,KAAK,CAAC,wBAAT,EAAH,CAA4C,EAA5D,aAA9E,EANJ,GAFH,EA5CL,EAFJ,EAFJ,cA6DI,YAAI,KAAK,CAAC,yCAAV,wBAAoD,UAAG,KAAK,CAAC,mBAAT,CAA6B,KAAK,CAAE,CAACtB,KAAK,CAAC,SAAP,CAApC,EAApD,mBA7DJ,cA8DI,YAAK,KAAK,CAAC,KAAX,uBAGI,KAAC,MAAD,EACI,aAAa,CAAE,CAACuB,MAAM,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CAA2BC,GAAG,CAAC,EAA/B,CADnB,CAEI,QAAQ,CAAE,kBAAAvB,MAAM,CAAI,CAChB,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACA,GAAI,CAACD,MAAM,CAACsB,QAAZ,CAAsB,CAClBrB,MAAM,CAACqB,QAAP,CAAkB,qBAAlB,CACH,CAFD,IAGK,IAAI,CAACtB,MAAM,CAACqB,MAAZ,CAAoB,CACrBpB,MAAM,CAACoB,MAAP,CAAgB,0BAAhB,CACH,CAFI,IAEE,IAAGnB,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,KAAL,CAAWJ,MAAM,CAACuB,GAAP,CAAa,CAAxB,CAAV,EAAwC,CAA3C,CAA6C,CAChDtB,MAAM,CAACsB,GAAP,CAAa,kBAAb,CACH,CAFM,IAED,IAAGrB,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,KAAL,CAAWJ,MAAM,CAACuB,GAAP,CAAa,CAAxB,CAAV,EAAwC,CAA3C,CAA6C,CAC/CtB,MAAM,CAACsB,GAAP,CAAa,kBAAb,CACH,CAFK,IAEA,IAAI,CAACvB,MAAM,CAACuB,GAAZ,CAAiB,CACnBtB,MAAM,CAACsB,GAAP,CAAa,eAAb,CACH,CAED,MAAOtB,CAAAA,MAAP,CACH,CAlBL,CAmBI,QAAQ,CAAE,kBAACD,MAAD,OAA+B,IAApBK,CAAAA,aAAoB,OAApBA,aAAoB,CACrCC,UAAU,CAAC,UAAM,CACb,GAAIC,CAAAA,KAAK,CAAGC,cAAc,CAACC,KAA3B,CACApB,KAAK,CAACqB,IAAN,WAAcpB,OAAd,eAAmCU,MAAnC,CAA2C,CACvCW,OAAO,CAAE,CACL,gBAAiB,SAAWJ,KADvB,CAD8B,CAA3C,EAIGK,IAJH,CAIQ,SAACC,GAAD,CAAS,CACbR,aAAa,CAAC,KAAD,CAAb,CACA,GAAGQ,GAAG,CAACC,IAAP,CAAY,CACR,GAAGD,GAAG,CAACC,IAAJ,CAASU,MAAZ,CAAmB,CACfhC,KAAK,uCAAmC,CACpCuB,SAAS,CAAE,IADyB,CAAnC,CAAL,CAGH,CAJD,IAIM,IAAGF,GAAG,CAACC,IAAJ,CAASW,IAAZ,CAAiB,CACnB7B,UAAU,CAACiB,GAAG,CAACC,IAAJ,CAASW,IAAV,CAAV,CACAjC,KAAK,qCAA4B,CAC7BuB,SAAS,CAAE,IADkB,CAA5B,CAAL,CAGH,CALK,IAKA,IAAGF,GAAG,CAACC,IAAJ,CAASY,OAAZ,CAAoB,CACtBlC,KAAK,iCAA6B,CAC9BuB,SAAS,CAAE,IADmB,CAA7B,CAAL,CAGH,CAJK,IAIA,IAAGF,GAAG,CAACC,IAAJ,CAASG,KAAZ,CAAkB,CACpBzB,KAAK,oCAAgC,CACjCuB,SAAS,CAAE,IADsB,CAAhC,CAAL,CAGH,CACJ,CAEJ,CA3BD,EA2BGC,KA3BH,CA2BS,SAACC,KAAD,CAAW,CAChB,GAAIA,KAAK,CAACC,QAAN,CAAeC,MAAf,GAA0B,GAA9B,CAAmC,CAC/Bd,aAAa,CAAC,KAAD,CAAb,CACAb,KAAK,CAAC,gCAAD,CAAmC,CACpCuB,SAAS,CAAE,IADyB,CAAnC,CAAL,CAGH,CACJ,CAlCD,EAmCH,CArCS,CAqCP,GArCO,CAAV,CAsCH,CA1DL,UA4DK,4BAAGK,CAAAA,YAAH,OAAGA,YAAH,oBAEG,MAAC,IAAD,yBACI,aAAK,KAAK,CAAC,OAAX,wBACI,aAAK,KAAK,CAAC,WAAX,4BAAwB,aAAM,EAAE,CAAC,kBAAT,uBAAxB,OADJ,cAEI,aAAK,KAAK,CAAC,WAAX,wBACA,MAAC,KAAD,EAAO,EAAE,CAAC,QAAV,CAAmB,IAAI,CAAC,UAAxB,CAAmC,KAAK,CAAC,iCAAzC,CAA2E,aAAW,yBAAtF,wBACA,eAAQ,QAAQ,KAAhB,8BADA,CAEC3B,KAAK,CAACkC,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,CAAe,CACtB,mBACI,sCACJ,eAAQ,KAAK,CAAED,IAAI,CAACE,IAApB,UAAuCF,IAAI,CAACH,IAA5C,EAA+BI,KAA/B,CADI,EADJ,CAKH,CANA,CAFD,GADA,cAYA,KAAC,YAAD,EAAc,IAAI,CAAC,UAAnB,CAA8B,SAAS,CAAC,OAAxC,CAAgD,SAAS,CAAC,aAA1D,EAZA,OAFJ,GADJ,cAkBI,aAAK,KAAK,CAAC,OAAX,wBACI,aAAK,KAAK,CAAC,WAAX,4BAAwB,aAAM,EAAE,CAAC,kBAAT,4BAAxB,OADJ,cAEI,aAAK,KAAK,CAAC,WAAX,4BAAwB,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,qBAA/B,CAAqD,IAAI,CAAC,QAA1D,EAAxB,cACI,KAAC,YAAD,EAAc,IAAI,CAAC,QAAnB,CAA4B,SAAS,CAAC,OAAtC,CAA8C,SAAS,CAAC,aAAxD,EADJ,OAFJ,cAIQ,cAAO,KAAK,CAAE,CAAC/B,KAAK,CAAC,SAAP,CAAd,uBAAiC,wBAASH,OAAT,EAAjC,EAJR,GAlBJ,cAwBI,aAAK,KAAK,CAAC,OAAX,wBACI,aAAK,KAAK,CAAC,WAAX,4BAAwB,aAAM,EAAE,CAAC,kBAAT,6BAAxB,OADJ,cAEI,aAAK,KAAK,CAAC,WAAX,4BAAwB,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAC,aAAjC,CAA+C,IAAI,CAAC,KAApD,EAAxB,cACI,KAAC,YAAD,EAAc,IAAI,CAAC,KAAnB,CAAyB,SAAS,CAAC,OAAnC,CAA2C,SAAS,CAAC,aAArD,EADJ,OAFJ,GAxBJ,cA8BI,eAAQ,KAAK,CAAC,yBAAd,CAAwC,IAAI,CAAC,QAA7C,CAAsD,QAAQ,CAAEyB,YAAhE,uBAA8E,qBAAIA,YAAY,cAAG,UAAG,KAAK,CAAC,wBAAT,EAAH,CAA4C,EAA5D,eAA9E,EA9BJ,GAFH,EA5DL,EAHJ,EA9DJ,GADJ,EADJ,EADJ,EAFJ,GADJ,EADJ,CAkLH,CApLD,CAsLA,cAAe1B,CAAAA,QAAf","sourcesContent":["import React, {useState} from 'react'\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport axios from 'axios';\r\nimport { Baseurl } from '../baseurl';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { codes } from './bank_codes';\r\n\r\nconst Settings = () => {\r\n    const [accName, setAccName] = useState('')\r\n    return (\r\n        <>\r\n            <div class=\"page-content page-container mx-auto mb-5\" id=\"page-content\" style={{ marginTop: '80px' }}>\r\n                <small><ToastContainer /></small>\r\n                <div class=\"row container d-flex justify-content-center mx-auto\">\r\n                    <div class=\"profile-card user-card-full\">\r\n                        <div class=\"col-md-8 mx-auto\">\r\n                            <div class=\"card-block\">\r\n                                <h6 class=\"m-b-20 p-b-5 b-b-default f-w-600\"><i class=\"fad fa-info-square\" style={{color:'#071B4D'}}></i> Basic Information</h6>\r\n                                <div class=\"row\">\r\n                                    {/* Phone number update */}\r\n                                    <Formik\r\n                                        initialValues={{ phone: '234' }}\r\n                                        validate={values => {\r\n                                            const errors = {};\r\n                                            if (!values.phone) {\r\n                                                errors.phone = '*Phone Number Required';\r\n                                            } else if (Math.ceil(Math.log10(values.phone)) < 13) {\r\n                                                errors.phone = '*Phone Number Should be 11 digits';\r\n                                            } else if (Math.ceil(Math.log10(values.phone)) > 13) {\r\n                                                errors.phone = '*Phone Number Should be 11 digits';\r\n                                            }\r\n\r\n                                            return errors;\r\n                                        }}\r\n                                        onSubmit={(values, { setSubmitting }) => {\r\n                                            setTimeout(() => {\r\n                                                let token = sessionStorage.Token\r\n                                                axios.post(`${Baseurl}updateprofile`, values, {\r\n                                                    headers: {\r\n                                                        'Authorization': 'Bearer' + token\r\n                                                    }\r\n                                                }).then((res) => {\r\n                                                    setSubmitting(false)\r\n                                                    if (res.data === 'phoneexists') {\r\n                                                        toast(`✋ You have a number already`, {\r\n                                                            autoClose: 2000,\r\n                                                        })\r\n                                                    } else if (res.data === 'updated') {\r\n                                                        toast(`👍 Successfully Updated`, {\r\n                                                            autoClose: 2000,\r\n                                                        })\r\n                                                    }\r\n                                                }).catch((error) => {\r\n                                                    if (error.response.status === 422) {\r\n                                                        setSubmitting(false);\r\n                                                        toast(\"✋ Phone Number already taken!\", {\r\n                                                            autoClose: 2000,\r\n                                                        })\r\n                                                    }\r\n                                                })\r\n\r\n                                            }, 400);\r\n                                        }}\r\n                                    >\r\n                                        {({ isSubmitting }) => (\r\n\r\n                                            <Form>\r\n                                                <div class=\"row-1\">\r\n                                                    <div class=\"row row-2\"> <span id=\"login-card-inner\">Phone Number</span> </div>\r\n                                                    <div class=\"row row-2\"> <Field type=\"number\" placeholder=\"Phone Number\" name=\"phone\" />\r\n                                                        <ErrorMessage name=\"phone\" component=\"small\" className='text-danger' /> </div>\r\n                                                </div>\r\n                                                <button class=\"btn d-flex mx-auto mb-2\" type=\"submit\" disabled={isSubmitting}><b>{isSubmitting ? <i class=\"fas fa-spinner fa-spin\"></i> : ''} Update</b></button>\r\n                                            </Form>\r\n                                        )}\r\n                                    </Formik>\r\n                                </div>\r\n                                <h6 class=\"m-b-20 m-t-40 p-b-5 b-b-default f-w-600\"><i class=\"fas fa-university\" style={{color:'#071B4D'}}></i> Bank Details</h6>\r\n                                <div class=\"row\">\r\n                                    \r\n                                    {/* Bank Details Update */}\r\n                                    <Formik\r\n                                        initialValues={{acc_no: '', bankCode: '', pin:''}}\r\n                                        validate={values => {\r\n                                            const errors = {};\r\n                                            if (!values.bankCode) {\r\n                                                errors.bankCode = '*Bank Name Required';\r\n                                            }\r\n                                            else if (!values.acc_no) {\r\n                                                errors.acc_no = '*Account Number Required';\r\n                                            } else if(Math.ceil(Math.log10(values.pin + 1)) < 4){\r\n                                                errors.pin = '*Code is 4-digit';\r\n                                            }else if(Math.ceil(Math.log10(values.pin + 1)) > 4){\r\n                                                errors.pin = '*Code is 4-digit';\r\n                                            }else if (!values.pin) {\r\n                                                errors.pin = '*PIN Required';\r\n                                            }\r\n                                            \r\n                                            return errors;\r\n                                        }}\r\n                                        onSubmit={(values, { setSubmitting }) => {\r\n                                            setTimeout(() => {\r\n                                                let token = sessionStorage.Token\r\n                                                axios.post(`${Baseurl}updatebank`, values, {\r\n                                                    headers: {\r\n                                                        'Authorization': 'Bearer' + token\r\n                                                    }\r\n                                                }).then((res) => {\r\n                                                    setSubmitting(false)\r\n                                                    if(res.data){\r\n                                                        if(res.data.exists){\r\n                                                            toast(`✋ You have a bank info already`, {\r\n                                                                autoClose: 2000,\r\n                                                            })\r\n                                                        }else if(res.data.name){\r\n                                                            setAccName(res.data.name)\r\n                                                            toast(`👍 Account Number Added`, {\r\n                                                                autoClose: 2000,\r\n                                                            })\r\n                                                        }else if(res.data.invalid){\r\n                                                            toast(`✋ Account Number Invalid`, {\r\n                                                                autoClose: 2000,\r\n                                                            })\r\n                                                        }else if(res.data.error){\r\n                                                            toast(`✋ Network Error. Try Again!`, {\r\n                                                                autoClose: 2000,\r\n                                                            })\r\n                                                        }\r\n                                                    }\r\n                                                  \r\n                                                }).catch((error) => {\r\n                                                    if (error.response.status === 422) {\r\n                                                        setSubmitting(false);\r\n                                                        toast(\"✋ Account Number already used!\", {\r\n                                                            autoClose: 2000,\r\n                                                        })\r\n                                                    }\r\n                                                })\r\n                                            }, 400);\r\n                                        }}\r\n                                    >\r\n                                        {({ isSubmitting }) => (\r\n\r\n                                            <Form>\r\n                                                <div class=\"row-1\">\r\n                                                    <div class=\"row row-2\"> <span id=\"login-card-inner\">Bank Name</span> </div>\r\n                                                    <div class=\"row row-2\"> \r\n                                                    <Field as=\"select\" name=\"bankCode\" class=\"form-select form-select-sm mt-1\" aria-label=\".form-select-sm example\">\r\n                                                    <option selected>Choose your bank</option>\r\n                                                    {codes.map((item, index)=>{\r\n                                                        return(\r\n                                                            <>\r\n                                                        <option value={item.code} key={index}>{item.name}</option>\r\n                                                            </>\r\n                                                        )\r\n                                                    })}\r\n                                                \r\n                                                </Field>\r\n                                                    <ErrorMessage name=\"bankCode\" component=\"small\" className='text-danger' /> </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"row-1\">\r\n                                                    <div class=\"row row-2\"> <span id=\"login-card-inner\">Account Number</span> </div>\r\n                                                    <div class=\"row row-2\"> <Field type=\"text\" placeholder=\"Your Account Number\" name=\"acc_no\" />\r\n                                                        <ErrorMessage name=\"acc_no\" component=\"small\" className='text-danger' /> </div>\r\n                                                        <small style={{color:'#071B4D'}}><strong>{accName}</strong></small>\r\n                                                </div>\r\n                                                <div class=\"row-1\">\r\n                                                    <div class=\"row row-2\"> <span id=\"login-card-inner\">Transaction Pin</span> </div>\r\n                                                    <div class=\"row row-2\"> <Field type=\"number\" placeholder=\"4-digit Pin\" name=\"pin\" />\r\n                                                        <ErrorMessage name=\"pin\" component=\"small\" className='text-danger' /> </div>\r\n                                                        \r\n                                                </div>\r\n                                                <button class=\"btn d-flex mx-auto mb-2\" type=\"submit\" disabled={isSubmitting}><b>{isSubmitting ? <i class=\"fas fa-spinner fa-spin\"></i> : ''} Add Bank</b></button>\r\n                                            </Form>\r\n                                        )}\r\n                                    </Formik>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Settings\r\n"]},"metadata":{},"sourceType":"module"}